(self.webpackChunkvyr=self.webpackChunkvyr||[]).push([[768],{5420:(t,e,n)=>{"use strict";n.d(e,{D:()=>s});var i=n(5366),o=n(649);let s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["select-project-warning"]],decls:8,vars:6,consts:[[1,"select-project-warning-component"],[1,"box","box-warning"],[1,"box-title"],[1,"box-content"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.TgZ(5,"div",3),i._uU(6),i.ALo(7,"translate"),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(3),i.Oqu(i.lcZ(4,2,"components.select-project-warning.title")),i.xp6(3),i.Oqu(i.lcZ(7,4,"components.select-project-warning.content")))},pipes:[o.X$],styles:["[_ngcontent-%COMP%]:root{--pallete-primary:#000;--pallete-accent:#000;--sidenav-width:200px}  .select-project-warning-component{width:100%;padding:16px}"]}),t})()},4446:(t,e,n)=>{"use strict";n.d(e,{q:()=>a});var i=n(649),o=n(1116),s=n(5366);let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.ez,i.aw]]}),t})()},768:(t,e,n)=>{"use strict";n.r(e),n.d(e,{HomeModule:()=>y});var i=n(4446),o=n(1041),s=n(3841),a=n(649),r=n(3337),c=n(1116),p=n(5366);let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[c.ez,r.Bz]]}),t})();var d=n(1305),h=n(3837),u=n(3835),m=n(7723),g=n(9348),f=n(5420),b=n(5627);let v=(()=>{class t{constructor(t,e,n,i){this.cdr=t,this.regionService=e,this.pubsub=n,this.router=i,this.subscription=[],this.enabledStateNodes=[]}ngOnInit(){this.subscription.push((0,d.aj)([this.regionService.getStates(!1),this.pubsub.getAsBehaviorSubject(h.Y.GLOBAL_STATE_CHANGE)]).subscribe(([t,e])=>{this.selectedState=e,this.checkActiveStateOfElement(e),this.states||(this.states=t,this.initMap())}))}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}initMap(){this.mapRef=Snap("#map-svg-ref-country"),Snap.load("assets/img/svgs/countries/br.svg",this.onSnapLoad.bind(this))}onSnapLoad(t){this.mapRef.append(t),this.stateNodes=this.mapRef.select("#states").selectAll("path"),this.stateNodes.items.forEach(this.setupElement.bind(this)),this.cdr.detectChanges()}checkActiveStateOfElement(t){this.enabledStateNodes.forEach(e=>{e.node.id!==(null==t?void 0:t.initials)?e.node.classList.remove("active"):e.node.classList.add("active")})}setupElement(t){var e;const n=t.node.id;this.states.some(t=>(null==t?void 0:t.initials)===n)?(n===(null===(e=this.selectedState)||void 0===e?void 0:e.initials)&&t.node.classList.add("active"),this.enabledStateNodes.push(t),t.click(()=>{const t=this.states.find(t=>(null==t?void 0:t.initials)===n);this.pubsub.emitAsBehaviorSubject(h.Y.GLOBAL_STATE_CHANGE,t),setTimeout(()=>this.router.navigate(["map"]),300)})):t.node.classList.add("disabled")}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(p.sBO),p.Y36(b.o),p.Y36(g.A),p.Y36(r.F0))},t.\u0275cmp=p.Xpm({type:t,selectors:[["country-map"]],features:[p._Bn([b.o])],decls:2,vars:0,consts:[[1,"map-wrapper"],["id","map-svg-ref-country"]],template:function(t,e){1&t&&(p.TgZ(0,"div",0),p.O4$(),p._UZ(1,"svg",1),p.qZA())},styles:["[_ngcontent-%COMP%]:root{--pallete-primary:#000;--pallete-accent:#000;--sidenav-width:200px}.map-wrapper[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.map-wrapper[_ngcontent-%COMP%]{height:500px;width:100%;overflow:hidden;position:relative}.map-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{max-width:100vw;width:100%;height:100%}.map-wrapper[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px}.map-wrapper[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;margin-bottom:8px}"]}),t})();var w=n(3070),A=n(7064);function x(t,e){1&t&&p._UZ(0,"select-project-warning")}function Z(t,e){1&t&&(p.TgZ(0,"div",4),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&t&&(p.xp6(1),p.Oqu(p.lcZ(2,1,"home.toolbar-title")))}function O(t,e){if(1&t&&(p.TgZ(0,"mat-option",12),p._uU(1),p.qZA()),2&t){const t=e.$implicit;p.Q6J("value",t),p.xp6(1),p.hij(" ",t," ")}}function _(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"div",5),p.TgZ(1,"div",6),p.TgZ(2,"div",7),p._uU(3),p.ALo(4,"translate"),p.qZA(),p._UZ(5,"country-map"),p.qZA(),p.TgZ(6,"div",8),p.TgZ(7,"div",7),p._uU(8),p.ALo(9,"translate"),p.qZA(),p.TgZ(10,"mat-form-field",9),p.TgZ(11,"mat-label"),p._uU(12),p.ALo(13,"translate"),p.qZA(),p.TgZ(14,"mat-select",10),p.NdJ("ngModelChange",function(e){return p.CHM(t),p.oxw().selectedPeriod=e})("ngModelChange",function(e){return p.CHM(t),p.oxw().onPeriodChange(e)}),p.YNc(15,O,2,2,"mat-option",11),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&t){const t=p.oxw();p.xp6(3),p.Oqu(p.lcZ(4,5,"home.card-state-title")),p.xp6(5),p.Oqu(p.lcZ(9,7,"home.card-period-title")),p.xp6(4),p.Oqu(p.lcZ(13,9,"app.header.period-selector-label")),p.xp6(2),p.Q6J("ngModel",t.selectedPeriod),p.xp6(1),p.Q6J("ngForOf",t.periods)}}let C=(()=>{class t{constructor(t,e){this.engine=t,this.pubsub=e,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.pubsub.getAsBehaviorSubject(h.Y.GLOBAL_PROJECT_CHANGE).pipe((0,u.h)(Boolean)).subscribe(()=>{var t;this.initiated=!0,null===(t=this.initSubscription)||void 0===t||t.unsubscribe(),this.init()}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}onPeriodChange(t){this.pubsub.emitAsBehaviorSubject(h.Y.GLOBAL_PERIOD_CHANGE,t)}init(){this.initSubscription=(0,d.aj)([this.engine.getGlobalConfigs(),this.pubsub.getAsBehaviorSubject(h.Y.GLOBAL_PERIOD_CHANGE)]).pipe((0,u.h)(([t,e])=>Boolean(t)&&Boolean(e))).subscribe(([t,e])=>{this.periods=t.periods,this.selectedPeriod=e})}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(m.S),p.Y36(g.A))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-home"]],decls:4,vars:3,consts:[[1,"home-wrapper","home"],[4,"ngIf"],["class","home-header toolbar",4,"ngIf"],["class","home-content",4,"ngIf"],[1,"home-header","toolbar"],[1,"home-content"],[1,"card","map-card"],[1,"card-title"],[1,"card","period-card"],["appearance","outline"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(p.TgZ(0,"div",0),p.YNc(1,x,1,0,"select-project-warning",1),p.YNc(2,Z,3,3,"div",2),p.YNc(3,_,16,11,"div",3),p.qZA()),2&t&&(p.xp6(1),p.Q6J("ngIf",!e.initiated),p.xp6(1),p.Q6J("ngIf",e.initiated),p.xp6(1),p.Q6J("ngIf",e.initiated))},directives:[c.O5,f.D,v,w.KE,w.hX,s.gD,o.JJ,o.On,c.sg,A.ey],pipes:[a.X$],styles:["[_ngcontent-%COMP%]:root{--pallete-primary:#000;--pallete-accent:#000;--sidenav-width:200px}  .home-content{display:flex}  .home-content{align-items:flex-start;justify-content:flex-start}  .home-content{padding:16px;flex-wrap:wrap}  .home-content .map-card{margin-right:16px;margin-bottom:16px}  .home-content .map-card .map-wrapper{width:500px}  .home-content .map-card .card-title{margin-bottom:16px}  .home-content .period-card .mat-form-field{width:100%;margin-top:16px}  .home-content .period-card .mat-form-field-wrapper{padding-bottom:0}  .is-phone .home-wrapper .home-content{flex-direction:column-reverse}  .is-phone .home-wrapper .map-card{margin:0}  .is-phone .home-wrapper .map-card .map-wrapper{height:300px!important;width:100%}  .is-phone .home-wrapper .period-card{margin-bottom:16px}  .is-phone .home-wrapper .card{width:100%}"]}),t})(),S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[c.ez,r.Bz.forChild([{path:"",component:C}])],r.Bz]}),t})(),y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[c.ez,S,l,a.aw,s.LD,o.u5,i.q,w.lN]]}),t})()}}]);