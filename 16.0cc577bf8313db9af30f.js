(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"3Ibo":function(e,t,i){"use strict";i.r(t),i.d(t,"RegionDetailsModule",function(){return Ze});var r=i("sYmb"),a=i("ZF+F"),n=i("tyNb"),c=i("ofXK"),o=i("pLZG"),s=i("eIep"),d=i("f48q"),l=i("k6M/"),p=i("fXoL"),u=i("49/o"),b=i("sVDV"),g=i("FkH8"),m=i("5+WD");class v{}var h=i("95T3"),f=i("bTqV"),D=i("NFeN"),y=i("7EHt");function x(e,t){if(1&e&&(p.Rb(0,"div",16),p.Dc(1),p.Qb()),2&e){const e=p.cc();p.Ab(1),p.Fc(" ",e.featuredLabel," ")}}const L=function(e){return{"type-2":e}};function R(e,t){if(1&e&&(p.Rb(0,"div",33),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.lc(2,L,"characteristics"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}function k(e,t){if(1&e&&(p.Rb(0,"div",34),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.Ab(1),p.Fc(" ",e.label," ")}}const C=function(e){return[e]};function Q(e,t){if(1&e){const e=p.Sb();p.Mb(0,"div",17),p.Rb(1,"div",18),p.Rb(2,"div",19),p.Rb(3,"div",20),p.Dc(4),p.dc(5,"translate"),p.Qb(),p.Rb(6,"div",21),p.Dc(7),p.dc(8,"translate"),p.Qb(),p.Qb(),p.Rb(9,"div",22),p.Rb(10,"div",23),p.Rb(11,"h2"),p.Dc(12),p.dc(13,"translate"),p.Qb(),p.Rb(14,"div",24,25),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropGeneral(t)}),p.Bc(16,R,2,4,"div",26),p.Qb(),p.Qb(),p.Rb(17,"div",27),p.Rb(18,"h2"),p.Dc(19),p.dc(20,"translate"),p.Qb(),p.Rb(21,"div",28,29),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropGeneral(t)}),p.Bc(23,k,2,1,"div",30),p.Qb(),p.Qb(),p.Qb(),p.Mb(24,"div",31),p.Mb(25,"div",32),p.Qb()}if(2&e){const e=p.pc(15),t=p.pc(22),i=p.cc();p.Ab(4),p.Ec(p.ec(5,10,"details-municipy.drag-drop.interactive-general.title")),p.Ab(3),p.Ec(p.ec(8,12,"details-municipy.drag-drop.interactive-general.content")),p.Ab(5),p.Ec(p.ec(13,14,"details-municipy.drag-drop.characteristics")),p.Ab(2),p.ic("cdkDropListData",i.dragSourceGeneralCharacteristics)("cdkDropListConnectedTo",p.lc(18,C,t)),p.Ab(2),p.ic("ngForOf",i.dragSourceGeneralCharacteristics),p.Ab(3),p.Ec(p.ec(20,16,"details-mesoregion.drag-drop.used-data")),p.Ab(2),p.ic("cdkDropListData",i.dragTargetGeneralCharacteristics)("cdkDropListConnectedTo",p.lc(20,C,e)),p.Ab(2),p.ic("ngForOf",i.dragTargetGeneralCharacteristics)}}function A(e,t){if(1&e&&(p.Mb(0,"div",37),p.Mb(1,"div",37)),2&e){const e=p.cc().index;p.jc("id","element-chart-1-",e,""),p.Ab(1),p.jc("id","element-chart-2-",e,"")}}function w(e,t){if(1&e){const e=p.Sb();p.Rb(0,"mat-expansion-panel",35),p.Yb("closed",function(){return p.sc(e),p.cc().featuredLabel=null})("opened",function(){p.sc(e);const i=t.index,r=p.pc(2);return p.cc().setupTable(i,r)}),p.Rb(1,"mat-expansion-panel-header",12,36),p.Dc(3),p.Qb(),p.Bc(4,A,2,2,"ng-template",14),p.Qb()}if(2&e){const e=t.$implicit;p.Cb("numeric-value-descriptor descriptor-",t.index,""),p.Ab(3),p.Fc(" ",e," ")}}let T=(()=>{class e{constructor(){this.onReset=new p.o,this.parsedDataset=[],this.dragSourceGeneralCharacteristics=[],this.dragTargetGeneralCharacteristics=[]}ngOnInit(){var e;const t=null===(e=this.data)||void 0===e?void 0:e.numericLabels.map((e,t)=>{const i=new v;return i.label=e,i.type="characteristics",i.value={meta_id:t,value:e},i});t&&this.dragSourceGeneralCharacteristics.push(...t)}reset(){this.onReset.next()}dropGeneral(e){e.previousContainer===e.container?Object(m.e)(e.container.data,e.previousIndex,e.currentIndex):Object(m.f)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.generalScatterPlot()}generalScatterPlot(){var e;const t=document.querySelector("#general-chart-2a"),i=document.querySelector("#general-chart-2b");t.innerHTML="",i.innerHTML="";const r=this.dragTargetGeneralCharacteristics.map(({value:e})=>e.meta_id);if(t){const e=this.dragTargetGeneralCharacteristics.map(e=>({label:e.label,values:this.data.item.numericEvolution[e.value.meta_id].value})).map(e=>{var t;return{type:"scatterpolar",r:e.values,theta:null===(t=this.data)||void 0===t?void 0:t.period,fill:"toself",name:e.label}});h.newPlot(t,e,{title:"Visualiza\xe7\xe3o em Radar",polar:{radialaxis:!0}})}if(i){const t=()=>({showline:!1,zeroline:!1,gridcolor:"#FFF",ticklen:4}),a=Object.assign({title:"Matriz Comparativa das Caracter\xedsticas",hovermode:"closest",dragmode:"select",plot_bgcolor:"rgba(240, 240, 240, .95)"},r.map((e,i)=>({[0===i?"xaxis":"xaxis"+(i+1)]:t(),[0===i?"yaxis":"yaxis"+(i+1)]:t()})));r.length>1&&(a.height=260*r.length,a.width=i.parentElement.getBoundingClientRect().width-60,a.autosize=!1);const n=null===(e=this.data)||void 0===e?void 0:e.period.map((e,t)=>({type:"splom",name:e,marker:{size:7},dimensions:r.map(e=>{var i,r,a,n;return{label:null===(r=null===(i=this.data)||void 0===i?void 0:i.numericLabels)||void 0===r?void 0:r.find((t,i)=>i===e),values:[l.a.formatValues(null===(n=null===(a=this.data)||void 0===a?void 0:a.item)||void 0===n?void 0:n.numericEvolution[e].value[t])]}})})),c=document.createElement("div");c.id="chart-splom",i.appendChild(c),h.newPlot(c,n,a,{responsive:!0})}}generalPlot(e){this.setLabelTitle(e),setTimeout(()=>{var e;const t=document.querySelector("#general-chart-1"),i=null===(e=this.data)||void 0===e?void 0:e.item.numericEvolution.map((e,t)=>{var i,r;return{x:null===(i=this.data)||void 0===i?void 0:i.period,y:e.value,mode:"lines+markers",name:null===(r=this.data)||void 0===r?void 0:r.numericLabels[t]}});h.newPlot(t,i,{title:"Incid\xeancias",xaxis:{type:"category"},legend:{orientation:"h",y:-.3}},{responsive:!0})},100)}setupTable(e,t){var i,r,a,n,c,o,s;if(this.setLabelTitle(t),this.parsedDataset[e])return;const d=null===(i=this.data)||void 0===i?void 0:i.item.numericEvolution[e].value,p=null===(r=this.data)||void 0===r?void 0:r.item.numericEvolution[e].percentageOverMicroregion,u=null===(a=this.data)||void 0===a?void 0:a.item.numericEvolution[e].percentageOverMesoregion,b=null===(n=this.data)||void 0===n?void 0:n.item.numericEvolution[e].percentageOverUf,g=null===(c=this.data)||void 0===c?void 0:c.microregion.numericEvolution[e].value,m=null===(o=this.data)||void 0===o?void 0:o.mesoregion.numericEvolution[e].value,v=null===(s=this.data)||void 0===s?void 0:s.uf.numericEvolution[e].value,f=l.a.average(p),D=l.a.average(u),y=l.a.average(b),x=d.map((e,t)=>({item:e,itemPercOverMicroregion:p[t],itemPercOverMesoregion:u[t],itemPercOverUf:b[t],microregion:g[t],mesoregion:m[t],uf:v[t]}));this.parsedDataset[e]={dataset:x,itemPercentageOverMicroregion:p,itemPercentageOverMesoregion:u,itemPercentageOverUf:b,itemNumericEvolution:d,microregionNumericEvolution:g,mesoregionNumericEvolution:m,ufNumericEvolution:v,avgPercItemOverMicroregion:f,avgPercItemOverMesoregion:D,avgPercItemOverUf:y},setTimeout(()=>{var t,i,r,a,n,c,o;const s=document.querySelector("#element-chart-1-"+e);if(s){const e=[{x:null===(t=this.data)||void 0===t?void 0:t.period,y:d,name:"Munic\xedpio",type:"lines+markers"},{x:null===(i=this.data)||void 0===i?void 0:i.period,y:g,name:"Microrregi\xe3o",type:"lines+markers"},{x:null===(r=this.data)||void 0===r?void 0:r.period,y:m,name:"Mesorregi\xe3o",type:"lines+markers"},{x:null===(a=this.data)||void 0===a?void 0:a.period,y:v,name:"Estado",type:"lines+markers"}];h.newPlot(s,e,{title:"Incid\xeancias",barmode:"stack",legend:{orientation:"h"}},{responsive:!0})}const l=document.querySelector("#element-chart-2-"+e);if(l){const e=[{x:null===(n=this.data)||void 0===n?void 0:n.period,y:p,mode:"lines+markers",name:"% do munic\xedpio sobre microrregi\xe3o"},{x:null===(c=this.data)||void 0===c?void 0:c.period,y:u,mode:"lines+markers",name:"% do munic\xedpio sobre mesorregi\xe3o"},{x:null===(o=this.data)||void 0===o?void 0:o.period,y:b,mode:"lines+markers",name:"% do munic\xedpio sobre estado"}];h.newPlot(l,e,{title:"Percentual do munic\xedpio sobre macrorregi\xf5es",legend:{orientation:"h"}},{responsive:!0})}},100)}setLabelTitle(e){e&&setTimeout(()=>this.featuredLabel=e._element.nativeElement.innerText,0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Fb({type:e,selectors:[["municipy-details"]],inputs:{data:"data"},outputs:{onReset:"onReset"},decls:37,vars:21,consts:[[1,"region-wrapper"],[1,"toolbar"],[1,"left"],["class","region-characteristic-view-chip",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"region-wrapper-content"],[1,"featured-item-outlet"],[1,"featured-item"],[1,"featured-item-title"],[1,"featured-item-content"],[1,"accordion"],[1,"featured-expansion-item",3,"closed","opened"],["collapsedHeight","48px","expandedHeight","48px"],["titleAllMunicipalities",""],["matExpansionPanelContent",""],[3,"class","closed","opened",4,"ngFor","ngForOf"],[1,"region-characteristic-view-chip"],["id","general-chart-1"],[1,"interactive-charts"],[1,"box","box-info",2,"margin-bottom","16px"],[1,"box-title"],[1,"box-content"],[1,"drag-outlet"],[1,"drag-container","drag-container-3"],["id","drag-characteristics","cdkDropList","",1,"drag-list","autoheight",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["sourceGenChar","cdkDropList"],["class","drag-item","cdkDrag","",3,"ngClass",4,"ngFor","ngForOf"],[1,"drag-container","drag-target","drag-container-3"],["id","drag-criteria","cdkDropList","",1,"drag-list","autoheight",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["doneGenList","cdkDropList"],["class","drag-item type-2","cdkDrag","",4,"ngFor","ngForOf"],["id","general-chart-2a"],["id","general-chart-2b"],["cdkDrag","",1,"drag-item",3,"ngClass"],["cdkDrag","",1,"drag-item","type-2"],[3,"closed","opened"],["itemTitle",""],[3,"id"]],template:function(e,t){if(1&e){const e=p.Sb();p.Rb(0,"div",0),p.Rb(1,"div",1),p.Rb(2,"div",2),p.Dc(3),p.dc(4,"translate"),p.Bc(5,x,2,1,"div",3),p.Qb(),p.Rb(6,"button",4),p.Yb("click",function(){return t.reset()}),p.Rb(7,"mat-icon"),p.Dc(8,"close"),p.Qb(),p.Qb(),p.Qb(),p.Rb(9,"div",5),p.Rb(10,"div",6),p.Rb(11,"div",7),p.Rb(12,"div",8),p.Dc(13),p.dc(14,"translate"),p.Qb(),p.Rb(15,"div",9),p.Dc(16),p.Qb(),p.Qb(),p.Rb(17,"div",7),p.Rb(18,"div",8),p.Dc(19),p.dc(20,"translate"),p.Qb(),p.Rb(21,"div",9),p.Dc(22),p.Qb(),p.Qb(),p.Rb(23,"div",7),p.Rb(24,"div",8),p.Dc(25),p.dc(26,"translate"),p.Qb(),p.Rb(27,"div",9),p.Dc(28),p.Qb(),p.Qb(),p.Qb(),p.Rb(29,"mat-accordion",10),p.Rb(30,"mat-expansion-panel",11),p.Yb("closed",function(){return t.featuredLabel=null})("opened",function(){p.sc(e);const i=p.pc(32);return t.generalPlot(i)}),p.Rb(31,"mat-expansion-panel-header",12,13),p.Dc(33),p.dc(34,"translate"),p.Qb(),p.Bc(35,Q,26,22,"ng-template",14),p.Qb(),p.Bc(36,w,5,4,"mat-expansion-panel",15),p.Qb(),p.Qb(),p.Qb()}2&e&&(p.Ab(3),p.Gc(" ",p.ec(4,11,"model-constants."+(null==t.data?null:t.data.type)),": ",null==t.data||null==t.data.item?null:t.data.item.name," "),p.Ab(2),p.ic("ngIf",t.featuredLabel),p.Ab(8),p.Ec(p.ec(14,13,"model-constants.microregion")),p.Ab(3),p.Ec(null==t.data||null==t.data.microregion?null:t.data.microregion.name),p.Ab(3),p.Ec(p.ec(20,15,"model-constants.mesoregion")),p.Ab(3),p.Ec(null==t.data||null==t.data.mesoregion?null:t.data.mesoregion.name),p.Ab(3),p.Ec(p.ec(26,17,"model-constants.state")),p.Ab(3),p.Ec(null==t.data||null==t.data.uf?null:t.data.uf.name),p.Ab(5),p.Fc(" ",p.ec(34,19,"details-municipy.all")," "),p.Ab(3),p.ic("ngForOf",null==t.data?null:t.data.numericLabels))},directives:[c.l,f.b,D.a,y.a,y.c,y.e,y.d,c.k,m.c,m.a,c.j],pipes:[r.c],styles:["[_ngcontent-%COMP%]:root{--pallete-primary:#000;--pallete-accent:#000;--sidenav-width:200px}  .municipy-wrapper-content{padding:16px}  .municipy-wrapper .featured-item-outlet{margin-bottom:24px}  .municipy-wrapper .numeric-value-descriptor .featured-item-outlet{flex-wrap:wrap}  .municipy-wrapper .numeric-value-descriptor .featured-item{width:300px;margin-bottom:16px}"]}),e})();function M(e,t){if(1&e&&(p.Rb(0,"div",17),p.Dc(1),p.Qb()),2&e){const e=p.cc();p.Ab(1),p.Fc(" ",e.featuredLabel," ")}}const E=function(e){return{"type-2":e}};function O(e,t){if(1&e&&(p.Rb(0,"div",34),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.lc(2,E,"characteristics"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}function S(e,t){if(1&e&&(p.Rb(0,"div",35),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.Ab(1),p.Fc(" ",e.label," ")}}const F=function(e){return[e]};function I(e,t){if(1&e){const e=p.Sb();p.Mb(0,"div",18),p.Rb(1,"div",19),p.Rb(2,"div",20),p.Rb(3,"div",21),p.Dc(4),p.dc(5,"translate"),p.Qb(),p.Rb(6,"div",22),p.Dc(7),p.dc(8,"translate"),p.Qb(),p.Qb(),p.Rb(9,"div",23),p.Rb(10,"div",24),p.Rb(11,"h2"),p.Dc(12),p.dc(13,"translate"),p.Qb(),p.Rb(14,"div",25,26),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropGeneral(t)}),p.Bc(16,O,2,4,"div",27),p.Qb(),p.Qb(),p.Rb(17,"div",28),p.Rb(18,"h2"),p.Dc(19),p.dc(20,"translate"),p.Qb(),p.Rb(21,"div",29,30),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropGeneral(t)}),p.Bc(23,S,2,1,"div",31),p.Qb(),p.Qb(),p.Qb(),p.Mb(24,"div",32),p.Mb(25,"div",33),p.Qb()}if(2&e){const e=p.pc(15),t=p.pc(22),i=p.cc();p.Ab(4),p.Ec(p.ec(5,10,"details-microregion.drag-drop.interactive-general.title")),p.Ab(3),p.Ec(p.ec(8,12,"details-microregion.drag-drop.interactive-general.content")),p.Ab(5),p.Ec(p.ec(13,14,"details-mesoregion.drag-drop.characteristics")),p.Ab(2),p.ic("cdkDropListData",i.dragSourceGeneralCharacteristics)("cdkDropListConnectedTo",p.lc(18,F,t)),p.Ab(2),p.ic("ngForOf",i.dragSourceGeneralCharacteristics),p.Ab(3),p.Ec(p.ec(20,16,"details-mesoregion.drag-drop.used-data")),p.Ab(2),p.ic("cdkDropListData",i.dragTargetGeneralCharacteristics)("cdkDropListConnectedTo",p.lc(20,F,e)),p.Ab(2),p.ic("ngForOf",i.dragTargetGeneralCharacteristics)}}const P=function(e){return{"type-1":e}};function G(e,t){if(1&e&&(p.Rb(0,"div",34),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.lc(2,P,"municipy"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}function j(e,t){if(1&e&&(p.Rb(0,"div",34),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.lc(2,E,"characteristics"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}const B=function(e,t){return{"type-1":e,"type-2":t}};function Y(e,t){if(1&e&&(p.Rb(0,"div",34),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.mc(2,B,"municipy"===e.type,"characteristics"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}const _=function(e,t){return[e,t]};function H(e,t){if(1&e){const e=p.Sb();p.Rb(0,"div",36),p.Rb(1,"div",21),p.Dc(2),p.dc(3,"translate"),p.Qb(),p.Rb(4,"div",22),p.Dc(5),p.dc(6,"translate"),p.Qb(),p.Qb(),p.Rb(7,"div",23),p.Rb(8,"div",37),p.Rb(9,"h2"),p.Dc(10),p.dc(11,"translate"),p.Qb(),p.Rb(12,"div",38,39),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().drop(t)}),p.Bc(14,G,2,4,"div",27),p.Qb(),p.Qb(),p.Rb(15,"div",40),p.Rb(16,"h2"),p.Dc(17),p.dc(18,"translate"),p.Qb(),p.Rb(19,"div",41,42),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().drop(t)}),p.Bc(21,j,2,4,"div",27),p.Qb(),p.Qb(),p.Rb(22,"div",28),p.Rb(23,"h2"),p.Dc(24),p.dc(25,"translate"),p.Qb(),p.Rb(26,"div",43,44),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().drop(t)}),p.Bc(28,Y,2,5,"div",27),p.Qb(),p.Qb(),p.Qb(),p.Mb(29,"div",45)}if(2&e){const e=p.pc(13),t=p.pc(20),i=p.pc(27),r=p.cc();p.Ab(2),p.Ec(p.ec(3,14,"details-microregion.drag-drop.interactive-municipalities.title")),p.Ab(3),p.Ec(p.ec(6,16,"details-microregion.drag-drop.interactive-municipalities.content")),p.Ab(5),p.Ec(p.ec(11,18,"details-microregion.drag-drop.municipalities")),p.Ab(2),p.ic("cdkDropListData",r.dragSourceMunicipalities)("cdkDropListConnectedTo",p.lc(24,F,i)),p.Ab(2),p.ic("ngForOf",r.dragSourceMunicipalities),p.Ab(3),p.Ec(p.ec(18,20,"details-microregion.drag-drop.characteristics")),p.Ab(2),p.ic("cdkDropListData",r.dragSourceCharacteristics)("cdkDropListConnectedTo",p.lc(26,F,i)),p.Ab(2),p.ic("ngForOf",r.dragSourceCharacteristics),p.Ab(3),p.Ec(p.ec(25,22,"details-microregion.drag-drop.used-data")),p.Ab(2),p.ic("cdkDropListData",r.dragTargetCriteria)("cdkDropListConnectedTo",p.mc(28,_,e,t)),p.Ab(2),p.ic("ngForOf",r.dragTargetCriteria)}}function q(e,t){if(1&e&&(p.Mb(0,"div",48),p.Mb(1,"div",48)),2&e){const e=p.cc().index;p.jc("id","element-chart-1-",e,""),p.Ab(1),p.jc("id","element-chart-2-",e,"")}}function $(e,t){if(1&e){const e=p.Sb();p.Rb(0,"mat-expansion-panel",46),p.Yb("opened",function(){p.sc(e);const i=t.index,r=p.pc(2);return p.cc().setupTable(i,r)})("closed",function(){return p.sc(e),p.cc().featuredLabel=null}),p.Rb(1,"mat-expansion-panel-header",12,47),p.Dc(3),p.Qb(),p.Bc(4,q,2,2,"ng-template",14),p.Qb()}if(2&e){const e=t.$implicit;p.Cb("numeric-value-descriptor descriptor-",t.index,""),p.Ab(3),p.Fc(" ",e," ")}}let z=(()=>{class e{constructor(){this.onReset=new p.o,this.parsedDataset=[],this.dragSourceMunicipalities=[],this.dragSourceCharacteristics=[],this.dragTargetCriteria=[],this.dragSourceGeneralCharacteristics=[],this.dragTargetGeneralCharacteristics=[]}ngOnInit(){var e,t,i;const r=null===(e=this.data)||void 0===e?void 0:e.numericLabels.map((e,t)=>{const i=new v;return i.label=e,i.type="characteristics",i.value={meta_id:t,value:e},i});r&&(this.dragSourceCharacteristics.push(...r),this.dragSourceGeneralCharacteristics.push(...r));const a=null===(i=null===(t=this.data)||void 0===t?void 0:t.municipalities)||void 0===i?void 0:i.map(e=>{const t=new v;return t.label=e.name,t.type="municipy",t.value=e,t});a&&this.dragSourceMunicipalities.push(...a)}reset(){this.onReset.next()}dropGeneral(e){e.previousContainer===e.container?Object(m.e)(e.container.data,e.previousIndex,e.currentIndex):Object(m.f)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.generalScatterPlot()}drop(e){const t=["drag-municipalities","drag-characteristics"],i=e.container.id;if(t.indexOf(i)>=0){if(t.indexOf(e.previousContainer.id)>=0)return;const r=this.dragTargetCriteria[e.previousIndex];if("characteristics"===r.type&&"drag-municipalities"===i||"municipy"===r.type&&"drag-characteristics"===i)return}e.previousContainer===e.container?Object(m.e)(e.container.data,e.previousIndex,e.currentIndex):Object(m.f)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.generateMunicipyPlot()}generateMunicipyPlot(){const e=document.querySelector("#chart-municipy-1-1"),t=this.dragTargetCriteria.filter(e=>"municipy"===e.type).map(({value:e})=>e),i=this.dragTargetCriteria.filter(e=>"characteristics"===e.type).map(({value:e})=>e.meta_id);t.length&&i.length?e&&(e.innerHTML="",i.map(i=>{var r;const a=null===(r=this.data)||void 0===r?void 0:r.numericLabels.find((e,t)=>t===i),n=t.map(e=>({y:e.numericEvolution.find(e=>e.meta_id===i).value,type:"box",name:e.name})),c={title:a},o=document.createElement("div");o.id="chart-meta-"+i,e.appendChild(o),h.newPlot(o,n,c,{responsive:!0})})):e.innerHTML=""}generalPlot(e){this.setLabelTitle(e),setTimeout(()=>{var e;const t=document.querySelector("#general-chart-1"),i=null===(e=this.data)||void 0===e?void 0:e.item.numericEvolution.map((e,t)=>{var i,r;return{x:null===(i=this.data)||void 0===i?void 0:i.period,y:e.value,mode:"lines+markers",name:null===(r=this.data)||void 0===r?void 0:r.numericLabels[t]}});h.newPlot(t,i,{title:"Incid\xeancias",xaxis:{type:"category"},legend:{orientation:"h",y:-.3}},{responsive:!0})},100)}generalScatterPlot(){var e;const t=document.querySelector("#general-chart-2a"),i=document.querySelector("#general-chart-2b");t.innerHTML="",i.innerHTML="";const r=this.dragTargetGeneralCharacteristics.map(({value:e})=>e.meta_id);if(t){const e=this.dragTargetGeneralCharacteristics.map(e=>({label:e.label,values:this.data.item.numericEvolution[e.value.meta_id].value})).map(e=>{var t;return{type:"scatterpolar",r:e.values,theta:null===(t=this.data)||void 0===t?void 0:t.period,fill:"toself",name:e.label}});h.newPlot(t,e,{title:"Visualiza\xe7\xe3o em Radar",polar:{radialaxis:!0}})}if(i){const t=()=>({showline:!1,zeroline:!1,gridcolor:"#FFF",ticklen:4}),a=Object.assign({title:"Matriz Comparativa das Caracter\xedsticas",hovermode:"closest",dragmode:"select",plot_bgcolor:"rgba(240, 240, 240, .95)"},r.map((e,i)=>({[0===i?"xaxis":"xaxis"+(i+1)]:t(),[0===i?"yaxis":"yaxis"+(i+1)]:t()})));r.length>1&&(a.height=260*r.length,a.width=i.parentElement.getBoundingClientRect().width-60,a.autosize=!1);const n=null===(e=this.data)||void 0===e?void 0:e.period.map((e,t)=>({type:"splom",name:e,marker:{size:7},dimensions:r.map(e=>{var i,r,a,n;return{label:null===(r=null===(i=this.data)||void 0===i?void 0:i.numericLabels)||void 0===r?void 0:r.find((t,i)=>i===e),values:[l.a.formatValues(null===(n=null===(a=this.data)||void 0===a?void 0:a.item)||void 0===n?void 0:n.numericEvolution[e].value[t])]}})})),c=document.createElement("div");c.id="chart-splom",i.appendChild(c),h.newPlot(c,n,a,{responsive:!0})}}setupTable(e,t){var i,r,a,n,c;if(this.setLabelTitle(t),this.parsedDataset[e])return;const o=null===(i=this.data)||void 0===i?void 0:i.item.numericEvolution[e].value,s=null===(r=this.data)||void 0===r?void 0:r.item.numericEvolution[e].percentageOverMesoregion,d=null===(a=this.data)||void 0===a?void 0:a.item.numericEvolution[e].percentageOverUf,l=null===(n=this.data)||void 0===n?void 0:n.mesoregion.numericEvolution[e].value,p=null===(c=this.data)||void 0===c?void 0:c.uf.numericEvolution[e].value,u=o.map((e,t)=>({item:e,itemPercOverMesoregion:s[t],itemPercOverUf:d[t],mesoregion:l[t],uf:p[t]}));this.parsedDataset[e]={dataset:u,itemPercentageOverMesoregion:s,itemPercentageOverUf:d,itemNumericEvolution:o,mesoregionNumericEvolution:l,ufNumericEvolution:p},setTimeout(()=>{var t,i,r,a,n;const c=document.querySelector("#element-chart-1-"+e);if(c){const e=[{x:null===(t=this.data)||void 0===t?void 0:t.period,y:o,name:"Microrregi\xe3o",type:"lines+markers"},{x:null===(i=this.data)||void 0===i?void 0:i.period,y:l,name:"Mesorregi\xe3o",type:"lines+markers"},{x:null===(r=this.data)||void 0===r?void 0:r.period,y:p,name:"Estado",type:"lines+markers"}];h.newPlot(c,e,{title:"Incid\xeancias",barmode:"stack",legend:{orientation:"h"}},{responsive:!0})}const u=document.querySelector("#element-chart-2-"+e);if(u){const e=[{x:null===(a=this.data)||void 0===a?void 0:a.period,y:s,mode:"lines+markers",name:"% da microrregi\xe3o sobre mesorregi\xe3o"},{x:null===(n=this.data)||void 0===n?void 0:n.period,y:d,mode:"lines+markers",name:"% da microrregi\xe3o sobre estado"}];h.newPlot(u,e,{title:"Percentual da microrregi\xe3o sobre macrorregi\xf5es",legend:{orientation:"h"}},{responsive:!0})}},100)}setLabelTitle(e){e&&setTimeout(()=>this.featuredLabel=e._element.nativeElement.innerText,0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Fb({type:e,selectors:[["microregion-details"]],inputs:{data:"data"},outputs:{onReset:"onReset"},decls:37,vars:20,consts:[[1,"region-wrapper"],[1,"toolbar"],[1,"left"],["class","region-characteristic-view-chip",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"region-wrapper-content"],[1,"featured-item-outlet"],[1,"featured-item"],[1,"featured-item-title"],[1,"featured-item-content"],[1,"accordion"],[1,"featured-expansion-item",3,"closed","opened"],["collapsedHeight","48px","expandedHeight","48px"],["mainTitle",""],["matExpansionPanelContent",""],["municipyLabel",""],[3,"class","opened","closed",4,"ngFor","ngForOf"],[1,"region-characteristic-view-chip"],["id","general-chart-1"],[1,"interactive-charts"],[1,"box","box-info",2,"margin-bottom","16px"],[1,"box-title"],[1,"box-content"],[1,"drag-outlet"],[1,"drag-container","drag-container-3"],["id","drag-characteristics","cdkDropList","",1,"drag-list","autoheight",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["sourceGenChar","cdkDropList"],["class","drag-item","cdkDrag","",3,"ngClass",4,"ngFor","ngForOf"],[1,"drag-container","drag-target","drag-container-3"],["id","drag-criteria","cdkDropList","",1,"drag-list","autoheight",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["doneGenList","cdkDropList"],["class","drag-item type-2","cdkDrag","",4,"ngFor","ngForOf"],["id","general-chart-2a"],["id","general-chart-2b"],["cdkDrag","",1,"drag-item",3,"ngClass"],["cdkDrag","",1,"drag-item","type-2"],[1,"box","box-info",2,"margin","16px 0"],[1,"drag-container","drag-container-1"],["id","drag-municipalities","cdkDropList","",1,"drag-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["sourceMunicipalities","cdkDropList"],[1,"drag-container","drag-container-2"],["id","drag-characteristics","cdkDropList","",1,"drag-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["sourceCharacteristics","cdkDropList"],["id","drag-criteria","cdkDropList","",1,"drag-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["doneList","cdkDropList"],["id","chart-municipy-1-1"],[3,"opened","closed"],["itemLabel",""],[3,"id"]],template:function(e,t){if(1&e){const e=p.Sb();p.Rb(0,"div",0),p.Rb(1,"div",1),p.Rb(2,"div",2),p.Dc(3),p.dc(4,"translate"),p.Bc(5,M,2,1,"div",3),p.Qb(),p.Rb(6,"button",4),p.Yb("click",function(){return t.reset()}),p.Rb(7,"mat-icon"),p.Dc(8,"close"),p.Qb(),p.Qb(),p.Qb(),p.Rb(9,"div",5),p.Rb(10,"div",6),p.Rb(11,"div",7),p.Rb(12,"div",8),p.Dc(13),p.dc(14,"translate"),p.Qb(),p.Rb(15,"div",9),p.Dc(16),p.Qb(),p.Qb(),p.Rb(17,"div",7),p.Rb(18,"div",8),p.Dc(19),p.dc(20,"translate"),p.Qb(),p.Rb(21,"div",9),p.Dc(22),p.Qb(),p.Qb(),p.Qb(),p.Rb(23,"mat-accordion",10),p.Rb(24,"mat-expansion-panel",11),p.Yb("closed",function(){return t.featuredLabel=null})("opened",function(){p.sc(e);const i=p.pc(26);return t.generalPlot(i)}),p.Rb(25,"mat-expansion-panel-header",12,13),p.Dc(27),p.dc(28,"translate"),p.Qb(),p.Bc(29,I,26,22,"ng-template",14),p.Qb(),p.Rb(30,"mat-expansion-panel",11),p.Yb("closed",function(){return t.featuredLabel=null})("opened",function(){p.sc(e);const i=p.pc(32);return t.setLabelTitle(i)}),p.Rb(31,"mat-expansion-panel-header",12,15),p.Dc(33),p.dc(34,"translate"),p.Qb(),p.Bc(35,H,30,31,"ng-template",14),p.Qb(),p.Bc(36,$,5,4,"mat-expansion-panel",16),p.Qb(),p.Qb(),p.Qb()}2&e&&(p.Ab(3),p.Gc(" ",p.ec(4,10,"model-constants."+(null==t.data?null:t.data.type)),": ",null==t.data||null==t.data.item?null:t.data.item.name," "),p.Ab(2),p.ic("ngIf",t.featuredLabel),p.Ab(8),p.Ec(p.ec(14,12,"model-constants.mesoregion")),p.Ab(3),p.Ec(null==t.data||null==t.data.mesoregion?null:t.data.mesoregion.name),p.Ab(3),p.Ec(p.ec(20,14,"model-constants.state")),p.Ab(3),p.Ec(null==t.data||null==t.data.uf?null:t.data.uf.name),p.Ab(5),p.Fc(" ",p.ec(28,16,"details-microregion.all")," "),p.Ab(6),p.Fc(" ",p.ec(34,18,"details-microregion.municipalities")," "),p.Ab(3),p.ic("ngForOf",null==t.data?null:t.data.numericLabels))},directives:[c.l,f.b,D.a,y.a,y.c,y.e,y.d,c.k,m.c,m.a,c.j],pipes:[r.c],styles:[""]}),e})();function V(e,t){if(1&e&&(p.Rb(0,"div",22),p.Dc(1),p.Qb()),2&e){const e=p.cc();p.Ab(1),p.Fc(" ",e.featuredLabel," ")}}const N=function(e){return{"type-2":e}};function U(e,t){if(1&e&&(p.Rb(0,"div",37),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.lc(2,N,"characteristics"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}function J(e,t){if(1&e&&(p.Rb(0,"div",38),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.Ab(1),p.Fc(" ",e.label," ")}}const X=function(e){return[e]};function Z(e,t){if(1&e){const e=p.Sb();p.Mb(0,"div",23),p.Rb(1,"div",24),p.Rb(2,"div",25),p.Rb(3,"div",17),p.Dc(4),p.dc(5,"translate"),p.Qb(),p.Rb(6,"div",18),p.Dc(7),p.dc(8,"translate"),p.Qb(),p.Qb(),p.Rb(9,"div",26),p.Rb(10,"div",27),p.Rb(11,"h2"),p.Dc(12),p.dc(13,"translate"),p.Qb(),p.Rb(14,"div",28,29),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropGeneral(t)}),p.Bc(16,U,2,4,"div",30),p.Qb(),p.Qb(),p.Rb(17,"div",31),p.Rb(18,"h2"),p.Dc(19),p.dc(20,"translate"),p.Qb(),p.Rb(21,"div",32,33),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropGeneral(t)}),p.Bc(23,J,2,1,"div",34),p.Qb(),p.Qb(),p.Qb(),p.Mb(24,"div",35),p.Mb(25,"div",36),p.Qb()}if(2&e){const e=p.pc(15),t=p.pc(22),i=p.cc();p.Ab(4),p.Ec(p.ec(5,10,"details-mesoregion.drag-drop.interactive-general.title")),p.Ab(3),p.Ec(p.ec(8,12,"details-mesoregion.drag-drop.interactive-general.content")),p.Ab(5),p.Ec(p.ec(13,14,"details-mesoregion.drag-drop.characteristics")),p.Ab(2),p.ic("cdkDropListData",i.dragSourceGeneralCharacteristics)("cdkDropListConnectedTo",p.lc(18,X,t)),p.Ab(2),p.ic("ngForOf",i.dragSourceGeneralCharacteristics),p.Ab(3),p.Ec(p.ec(20,16,"details-mesoregion.drag-drop.used-data")),p.Ab(2),p.ic("cdkDropListData",i.dragTargetGeneralCharacteristics)("cdkDropListConnectedTo",p.lc(20,X,e)),p.Ab(2),p.ic("ngForOf",i.dragTargetGeneralCharacteristics)}}const K=function(e){return{"type-1":e}};function W(e,t){if(1&e&&(p.Rb(0,"div",37),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.lc(2,K,"microregion"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}function ee(e,t){if(1&e&&(p.Rb(0,"div",37),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.lc(2,N,"characteristics"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}const te=function(e,t){return{"type-1":e,"type-2":t}};function ie(e,t){if(1&e&&(p.Rb(0,"div",37),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.mc(2,te,"microregion"===e.type,"characteristics"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}const re=function(e,t){return[e,t]};function ae(e,t){if(1&e){const e=p.Sb();p.Rb(0,"div",26),p.Rb(1,"div",39),p.Rb(2,"h2"),p.Dc(3),p.dc(4,"translate"),p.Qb(),p.Rb(5,"div",40,41),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropMicroregion(t)}),p.Bc(7,W,2,4,"div",30),p.Qb(),p.Qb(),p.Rb(8,"div",42),p.Rb(9,"h2"),p.Dc(10),p.dc(11,"translate"),p.Qb(),p.Rb(12,"div",28,43),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropMicroregion(t)}),p.Bc(14,ee,2,4,"div",30),p.Qb(),p.Qb(),p.Rb(15,"div",31),p.Rb(16,"h2"),p.Dc(17),p.dc(18,"translate"),p.Qb(),p.Rb(19,"div",32,44),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropMicroregion(t)}),p.Bc(21,ie,2,5,"div",30),p.Qb(),p.Qb(),p.Qb(),p.Mb(22,"div",45)}if(2&e){const e=p.pc(6),t=p.pc(13),i=p.pc(20),r=p.cc();p.Ab(3),p.Ec(p.ec(4,12,"details-mesoregion.drag-drop.microregion")),p.Ab(2),p.ic("cdkDropListData",r.dragSource2Microregions)("cdkDropListConnectedTo",p.lc(18,X,i)),p.Ab(2),p.ic("ngForOf",r.dragSource2Microregions),p.Ab(3),p.Ec(p.ec(11,14,"details-mesoregion.drag-drop.characteristics")),p.Ab(2),p.ic("cdkDropListData",r.dragSource2Characteristics)("cdkDropListConnectedTo",p.lc(20,X,i)),p.Ab(2),p.ic("ngForOf",r.dragSource2Characteristics),p.Ab(3),p.Ec(p.ec(18,16,"details-mesoregion.drag-drop.used-data")),p.Ab(2),p.ic("cdkDropListData",r.dragTarget2Criteria)("cdkDropListConnectedTo",p.mc(22,re,e,t)),p.Ab(2),p.ic("ngForOf",r.dragTarget2Criteria)}}function ne(e,t){if(1&e&&(p.Rb(0,"div",37),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.lc(2,K,"municipy"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}function ce(e,t){if(1&e&&(p.Rb(0,"div",37),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.lc(2,N,"characteristics"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}function oe(e,t){if(1&e&&(p.Rb(0,"div",37),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.mc(2,te,"municipy"===e.type,"characteristics"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}function se(e,t){if(1&e){const e=p.Sb();p.Rb(0,"div",26),p.Rb(1,"div",39),p.Rb(2,"h2"),p.Dc(3),p.dc(4,"translate"),p.Qb(),p.Rb(5,"div",46,47),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropMunicipy(t)}),p.Bc(7,ne,2,4,"div",30),p.Qb(),p.Qb(),p.Rb(8,"div",42),p.Rb(9,"h2"),p.Dc(10),p.dc(11,"translate"),p.Qb(),p.Rb(12,"div",28,48),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropMunicipy(t)}),p.Bc(14,ce,2,4,"div",30),p.Qb(),p.Qb(),p.Rb(15,"div",31),p.Rb(16,"h2"),p.Dc(17),p.dc(18,"translate"),p.Qb(),p.Rb(19,"div",32,49),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropMunicipy(t)}),p.Bc(21,oe,2,5,"div",30),p.Qb(),p.Qb(),p.Qb(),p.Mb(22,"div",50)}if(2&e){const e=p.pc(6),t=p.pc(13),i=p.pc(20),r=p.cc();p.Ab(3),p.Ec(p.ec(4,12,"details-mesoregion.drag-drop.municipalities")),p.Ab(2),p.ic("cdkDropListData",r.dragSource1Municipalities)("cdkDropListConnectedTo",p.lc(18,X,i)),p.Ab(2),p.ic("ngForOf",r.dragSource1Municipalities),p.Ab(3),p.Ec(p.ec(11,14,"details-mesoregion.drag-drop.characteristics")),p.Ab(2),p.ic("cdkDropListData",r.dragSource1Characteristics)("cdkDropListConnectedTo",p.lc(20,X,i)),p.Ab(2),p.ic("ngForOf",r.dragSource1Characteristics),p.Ab(3),p.Ec(p.ec(18,16,"details-mesoregion.drag-drop.used-data")),p.Ab(2),p.ic("cdkDropListData",r.dragTarget1Criteria)("cdkDropListConnectedTo",p.mc(22,re,e,t)),p.Ab(2),p.ic("ngForOf",r.dragTarget1Criteria)}}function de(e,t){if(1&e&&(p.Mb(0,"div",53),p.Mb(1,"div",53),p.Mb(2,"div",53)),2&e){const e=p.cc().index;p.jc("id","element-chart-1-",e,""),p.Ab(1),p.jc("id","element-chart-2-",e,""),p.Ab(1),p.jc("id","element-chart-3-",e,"")}}function le(e,t){if(1&e){const e=p.Sb();p.Rb(0,"mat-expansion-panel",51),p.Yb("closed",function(){return p.sc(e),p.cc().featuredLabel=""})("opened",function(){p.sc(e);const i=t.index,r=p.pc(2);return p.cc().setupTable(i,r)}),p.Rb(1,"mat-expansion-panel-header",12,52),p.Dc(3),p.Qb(),p.Bc(4,de,3,3,"ng-template",14),p.Qb()}if(2&e){const e=t.$implicit;p.Cb("numeric-value-descriptor descriptor-",t.index,""),p.Ab(3),p.Fc(" ",e," ")}}let pe=(()=>{class e{constructor(e){this.cdr=e,this.onReset=new p.o,this.parsedDataset=[],this.dragSourceGeneralCharacteristics=[],this.dragTargetGeneralCharacteristics=[],this.dragSource1Municipalities=[],this.dragSource1Characteristics=[],this.dragTarget1Criteria=[],this.dragSource2Microregions=[],this.dragSource2Characteristics=[],this.dragTarget2Criteria=[]}ngOnInit(){var e,t,i,r,a;const n=null===(e=this.data)||void 0===e?void 0:e.numericLabels.map((e,t)=>{const i=new v;return i.label=e,i.type="characteristics",i.value={meta_id:t,value:e},i});n&&(this.dragSource1Characteristics.push(...n),this.dragSource2Characteristics.push(...n),this.dragSourceGeneralCharacteristics.push(...n));const c=null===(i=null===(t=this.data)||void 0===t?void 0:t.municipalities)||void 0===i?void 0:i.map(e=>{const t=new v;return t.label=e.name,t.type="municipy",t.value=e,t});c&&this.dragSource1Municipalities.push(...c);const o=null===(a=null===(r=this.data)||void 0===r?void 0:r.microregions)||void 0===a?void 0:a.map(e=>{const t=new v;return t.label=e.name,t.type="microregion",t.value=e,t});o&&this.dragSource2Microregions.push(...o)}reset(){this.onReset.next()}dropGeneral(e){e.previousContainer===e.container?Object(m.e)(e.container.data,e.previousIndex,e.currentIndex):Object(m.f)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.generalScatterPlot()}dropMunicipy(e){const t=["drag-municipalities","drag-characteristics"],i=e.container.id;if(t.indexOf(i)>=0){if(t.indexOf(e.previousContainer.id)>=0)return;const r=this.dragTarget1Criteria[e.previousIndex];if("characteristics"===r.type&&"drag-municipalities"===i||"municipy"===r.type&&"drag-characteristics"===i)return}e.previousContainer===e.container?Object(m.e)(e.container.data,e.previousIndex,e.currentIndex):Object(m.f)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.generateMunicipyPlot(),this.cdr.detectChanges()}dropMicroregion(e){const t=["drag-microregion","drag-characteristics"],i=e.container.id;if(t.indexOf(i)>=0){if(t.indexOf(e.previousContainer.id)>=0)return;const r=this.dragTarget2Criteria[e.previousIndex];if("characteristics"===r.type&&"drag-microregion"===i||"microregion"===r.type&&"drag-characteristics"===i)return}e.previousContainer===e.container?Object(m.e)(e.container.data,e.previousIndex,e.currentIndex):Object(m.f)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.generateMicroregionPlot(),this.cdr.detectChanges()}generateMicroregionPlot(){const e=document.querySelector("#chart-microregion-1-1"),t=this.dragTarget2Criteria.filter(e=>"microregion"===e.type).map(({value:e})=>e),i=this.dragTarget2Criteria.filter(e=>"characteristics"===e.type).map(({value:e})=>e.meta_id);t.length&&i.length?(e&&(e.innerHTML=""),e&&i.map(i=>{var r;const a=null===(r=this.data)||void 0===r?void 0:r.numericLabels.find((e,t)=>t===i),n=t.map(e=>({y:e.numericEvolution.find(e=>e.meta_id===i).value,type:"box",name:e.name})),c={title:a},o=document.createElement("div");o.id="chart-meta-"+i,e.appendChild(o),h.newPlot(o,n,c,{responsive:!0})})):e.innerHTML=""}generateMunicipyPlot(){const e=document.querySelector("#chart-municipy-1-1"),t=this.dragTarget1Criteria.filter(e=>"municipy"===e.type).map(({value:e})=>e),i=this.dragTarget1Criteria.filter(e=>"characteristics"===e.type).map(({value:e})=>e.meta_id);t.length&&i.length?e&&(e.innerHTML="",i.map(i=>{var r;const a=null===(r=this.data)||void 0===r?void 0:r.numericLabels.find((e,t)=>t===i),n=t.map(e=>({y:e.numericEvolution.find(e=>e.meta_id===i).value,type:"box",name:e.name})),c={title:a},o=document.createElement("div");o.id="chart-meta-"+i,e.appendChild(o),h.newPlot(o,n,c,{responsive:!0})})):e.innerHTML=""}generalPlot(e){this.setLabelTitle(e),setTimeout(()=>{var e;const t=document.querySelector("#general-chart-1"),i=null===(e=this.data)||void 0===e?void 0:e.item.numericEvolution.map((e,t)=>{var i,r;return{x:null===(i=this.data)||void 0===i?void 0:i.period,y:e.value,mode:"lines+markers",name:null===(r=this.data)||void 0===r?void 0:r.numericLabels[t]}});h.newPlot(t,i,{title:"Incid\xeancias",xaxis:{type:"category"},legend:{orientation:"h",y:-.3}},{responsive:!0})},100)}generalScatterPlot(){var e;const t=document.querySelector("#general-chart-2a"),i=document.querySelector("#general-chart-2b");t.innerHTML="",i.innerHTML="";const r=this.dragTargetGeneralCharacteristics.map(({value:e})=>e.meta_id);if(t){const e=this.dragTargetGeneralCharacteristics.map(e=>({label:e.label,values:this.data.item.numericEvolution[e.value.meta_id].value})).map(e=>{var t;return{type:"scatterpolar",r:e.values,theta:null===(t=this.data)||void 0===t?void 0:t.period,fill:"toself",name:e.label}});h.newPlot(t,e,{title:"Visualiza\xe7\xe3o em Radar",polar:{radialaxis:!0}})}if(i){const t=()=>({showline:!1,zeroline:!1,gridcolor:"#FFF",ticklen:4}),a=Object.assign({title:"Matriz Comparativa das Caracter\xedsticas",hovermode:"closest",dragmode:"select",plot_bgcolor:"rgba(240, 240, 240, .95)"},r.map((e,i)=>({[0===i?"xaxis":"xaxis"+(i+1)]:t(),[0===i?"yaxis":"yaxis"+(i+1)]:t()})));r.length>1&&(a.height=260*r.length,a.width=i.parentElement.getBoundingClientRect().width-60,a.autosize=!1);const n=null===(e=this.data)||void 0===e?void 0:e.period.map((e,t)=>({type:"splom",name:e,marker:{size:7},dimensions:r.map(e=>{var i,r,a,n;return{label:null===(r=null===(i=this.data)||void 0===i?void 0:i.numericLabels)||void 0===r?void 0:r.find((t,i)=>i===e),values:[l.a.formatValues(null===(n=null===(a=this.data)||void 0===a?void 0:a.item)||void 0===n?void 0:n.numericEvolution[e].value[t])]}})})),c=document.createElement("div");c.id="chart-splom",i.appendChild(c),h.newPlot(c,n,a,{responsive:!0})}}setupTable(e,t){var i,r,a;if(this.setLabelTitle(t),this.parsedDataset[e])return;const n=null===(i=this.data)||void 0===i?void 0:i.item.numericEvolution[e].value,c=null===(r=this.data)||void 0===r?void 0:r.item.numericEvolution[e].percentageOverUf,o=null===(a=this.data)||void 0===a?void 0:a.uf.numericEvolution[e].value,s=n.map((e,t)=>({item:e,itemPercOverUf:c[t],uf:o[t]}));this.parsedDataset[e]={dataset:s,itemPercentageOverUf:c,itemNumericEvolution:n,ufNumericEvolution:o},setTimeout(()=>{var t,i,r;const a=document.querySelector("#element-chart-1-"+e);if(a){const e=[{x:null===(t=this.data)||void 0===t?void 0:t.period,y:n,name:"Mesorregi\xe3o",type:"lines+markers"},{x:null===(i=this.data)||void 0===i?void 0:i.period,y:o,name:"Estado",type:"lines+markers"}];h.newPlot(a,e,{title:"Incid\xeancias",barmode:"stack",legend:{orientation:"h"}},{responsive:!0})}const s=document.querySelector("#element-chart-2-"+e);if(s){const e=[{x:null===(r=this.data)||void 0===r?void 0:r.period,y:c,mode:"lines+markers",name:"% do munic\xedpio sobre estado"}];h.newPlot(s,e,{title:"Percentual do munic\xedpio sobre macrorregi\xf5es",legend:{orientation:"h"}},{responsive:!0})}},100)}setLabelTitle(e){e&&setTimeout(()=>this.featuredLabel=e._element.nativeElement.innerText,0)}}return e.\u0275fac=function(t){return new(t||e)(p.Lb(p.h))},e.\u0275cmp=p.Fb({type:e,selectors:[["mesoregion-details"]],inputs:{data:"data"},outputs:{onReset:"onReset"},decls:51,vars:31,consts:[[1,"region-wrapper"],[1,"toolbar"],[1,"left"],["class","region-characteristic-view-chip",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"region-wrapper-content"],[1,"featured-item-outlet"],[1,"featured-item"],[1,"featured-item-title"],[1,"featured-item-content"],[1,"accordion"],[1,"featured-expansion-item",3,"closed","opened"],["collapsedHeight","48px","expandedHeight","48px"],["mainTitle",""],["matExpansionPanelContent",""],[1,"featured-expansion-item",3,"opened","closed"],[1,"box","box-info",2,"margin","16px 0"],[1,"box-title"],[1,"box-content"],["labelMicroregion",""],["municipyLabel",""],[3,"class","closed","opened",4,"ngFor","ngForOf"],[1,"region-characteristic-view-chip"],["id","general-chart-1"],[1,"interactive-charts"],[1,"box","box-info",2,"margin-bottom","16px"],[1,"drag-outlet"],[1,"drag-container","drag-container-3"],["id","drag-characteristics","cdkDropList","",1,"drag-list","autoheight",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["sourceGenChar","cdkDropList"],["class","drag-item","cdkDrag","",3,"ngClass",4,"ngFor","ngForOf"],[1,"drag-container","drag-target","drag-container-3"],["id","drag-criteria","cdkDropList","",1,"drag-list","autoheight",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["doneGenList","cdkDropList"],["class","drag-item type-2","cdkDrag","",4,"ngFor","ngForOf"],["id","general-chart-2a"],["id","general-chart-2b"],["cdkDrag","",1,"drag-item",3,"ngClass"],["cdkDrag","",1,"drag-item","type-2"],[1,"drag-container","drag-container-1"],["id","drag-microregion","cdkDropList","",1,"drag-list","autoheight",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["source2a","cdkDropList"],[1,"drag-container","drag-container-2"],["source2b","cdkDropList"],["target2","cdkDropList"],["id","chart-microregion-1-1"],["id","drag-municipalities","cdkDropList","",1,"drag-list","autoheight",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["sourceMunicipalities","cdkDropList"],["sourceCharacteristics","cdkDropList"],["doneList","cdkDropList"],["id","chart-municipy-1-1"],[3,"closed","opened"],["itemLabel",""],[3,"id"]],template:function(e,t){if(1&e){const e=p.Sb();p.Rb(0,"div",0),p.Rb(1,"div",1),p.Rb(2,"div",2),p.Dc(3),p.dc(4,"translate"),p.Bc(5,V,2,1,"div",3),p.Qb(),p.Rb(6,"button",4),p.Yb("click",function(){return t.reset()}),p.Rb(7,"mat-icon"),p.Dc(8,"close"),p.Qb(),p.Qb(),p.Qb(),p.Rb(9,"div",5),p.Rb(10,"div",6),p.Rb(11,"div",7),p.Rb(12,"div",8),p.Dc(13),p.dc(14,"translate"),p.Qb(),p.Rb(15,"div",9),p.Dc(16),p.Qb(),p.Qb(),p.Qb(),p.Rb(17,"mat-accordion",10),p.Rb(18,"mat-expansion-panel",11),p.Yb("closed",function(){return t.featuredLabel=""})("opened",function(){p.sc(e);const i=p.pc(20);return t.generalPlot(i)}),p.Rb(19,"mat-expansion-panel-header",12,13),p.Dc(21),p.dc(22,"translate"),p.Qb(),p.Bc(23,Z,26,22,"ng-template",14),p.Qb(),p.Rb(24,"mat-expansion-panel",15),p.Yb("opened",function(){p.sc(e);const i=p.pc(33);return t.setLabelTitle(i)})("closed",function(){return t.featuredLabel=""}),p.Rb(25,"div",16),p.Rb(26,"div",17),p.Dc(27),p.dc(28,"translate"),p.Qb(),p.Rb(29,"div",18),p.Dc(30),p.dc(31,"translate"),p.Qb(),p.Qb(),p.Rb(32,"mat-expansion-panel-header",12,19),p.Dc(34),p.dc(35,"translate"),p.Qb(),p.Bc(36,ae,23,25,"ng-template",14),p.Qb(),p.Rb(37,"mat-expansion-panel",15),p.Yb("opened",function(){p.sc(e);const i=p.pc(46);return t.setLabelTitle(i)})("closed",function(){return t.featuredLabel=""}),p.Rb(38,"div",16),p.Rb(39,"div",17),p.Dc(40),p.dc(41,"translate"),p.Qb(),p.Rb(42,"div",18),p.Dc(43),p.dc(44,"translate"),p.Qb(),p.Qb(),p.Rb(45,"mat-expansion-panel-header",12,20),p.Dc(47),p.dc(48,"translate"),p.Qb(),p.Bc(49,se,23,25,"ng-template",14),p.Qb(),p.Bc(50,le,5,4,"mat-expansion-panel",21),p.Qb(),p.Qb(),p.Qb()}2&e&&(p.Ab(3),p.Gc(" ",p.ec(4,13,"model-constants."+(null==t.data?null:t.data.type)),": ",null==t.data||null==t.data.item?null:t.data.item.name," "),p.Ab(2),p.ic("ngIf",t.featuredLabel),p.Ab(8),p.Ec(p.ec(14,15,"model-constants.state")),p.Ab(3),p.Ec(null==t.data||null==t.data.uf?null:t.data.uf.name),p.Ab(5),p.Fc(" ",p.ec(22,17,"details-mesoregion.all")," "),p.Ab(6),p.Ec(p.ec(28,19,"details-mesoregion.drag-drop.interactive-microregion.title")),p.Ab(3),p.Ec(p.ec(31,21,"details-mesoregion.drag-drop.interactive-microregion.content")),p.Ab(4),p.Fc(" ",p.ec(35,23,"details-mesoregion.microregion")," "),p.Ab(6),p.Ec(p.ec(41,25,"details-mesoregion.drag-drop.interactive-municipalities.title")),p.Ab(3),p.Ec(p.ec(44,27,"details-mesoregion.drag-drop.interactive-municipalities.content")),p.Ab(4),p.Fc(" ",p.ec(48,29,"details-mesoregion.municipalities")," "),p.Ab(3),p.ic("ngForOf",null==t.data?null:t.data.numericLabels))},directives:[c.l,f.b,D.a,y.a,y.c,y.e,y.d,c.k,m.c,m.a,c.j],pipes:[r.c],styles:[""]}),e})();function ue(e,t){if(1&e&&(p.Rb(0,"div",19),p.Dc(1),p.Qb()),2&e){const e=p.cc();p.Ab(1),p.Fc(" ",e.featuredLabel," ")}}const be=function(e){return{"type-2":e}};function ge(e,t){if(1&e&&(p.Rb(0,"div",34),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.lc(2,be,"characteristics"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}function me(e,t){if(1&e&&(p.Rb(0,"div",35),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.Ab(1),p.Fc(" ",e.label," ")}}const ve=function(e){return[e]};function he(e,t){if(1&e){const e=p.Sb();p.Mb(0,"div",20),p.Rb(1,"div",21),p.Rb(2,"div",22),p.Rb(3,"div",13),p.Dc(4),p.dc(5,"translate"),p.Qb(),p.Rb(6,"div",14),p.Dc(7),p.dc(8,"translate"),p.Qb(),p.Qb(),p.Rb(9,"div",23),p.Rb(10,"div",24),p.Rb(11,"h2"),p.Dc(12),p.dc(13,"translate"),p.Qb(),p.Rb(14,"div",25,26),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropGeneral(t)}),p.Bc(16,ge,2,4,"div",27),p.Qb(),p.Qb(),p.Rb(17,"div",28),p.Rb(18,"h2"),p.Dc(19),p.dc(20,"translate"),p.Qb(),p.Rb(21,"div",29,30),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropGeneral(t)}),p.Bc(23,me,2,1,"div",31),p.Qb(),p.Qb(),p.Qb(),p.Mb(24,"div",32),p.Mb(25,"div",33),p.Qb()}if(2&e){const e=p.pc(15),t=p.pc(22),i=p.cc();p.Ab(4),p.Ec(p.ec(5,10,"details-state.drag-drop.interactive-general.title")),p.Ab(3),p.Ec(p.ec(8,12,"details-state.drag-drop.interactive-general.content")),p.Ab(5),p.Ec(p.ec(13,14,"details-state.drag-drop.characteristics")),p.Ab(2),p.ic("cdkDropListData",i.dragSourceGeneralCharacteristics)("cdkDropListConnectedTo",p.lc(18,ve,t)),p.Ab(2),p.ic("ngForOf",i.dragSourceGeneralCharacteristics),p.Ab(3),p.Ec(p.ec(20,16,"details-state.drag-drop.used-data")),p.Ab(2),p.ic("cdkDropListData",i.dragTargetGeneralCharacteristics)("cdkDropListConnectedTo",p.lc(20,ve,e)),p.Ab(2),p.ic("ngForOf",i.dragTargetGeneralCharacteristics)}}const fe=function(e){return{"type-1":e}};function De(e,t){if(1&e&&(p.Rb(0,"div",34),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.lc(2,fe,"mesoregion"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}function ye(e,t){if(1&e&&(p.Rb(0,"div",34),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.lc(2,be,"characteristics"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}const xe=function(e,t){return{"type-1":e,"type-2":t}};function Le(e,t){if(1&e&&(p.Rb(0,"div",34),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.mc(2,xe,"mesoregion"===e.type,"characteristics"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}const Re=function(e,t){return[e,t]};function ke(e,t){if(1&e){const e=p.Sb();p.Rb(0,"div",23),p.Rb(1,"div",36),p.Rb(2,"h2"),p.Dc(3),p.dc(4,"translate"),p.Qb(),p.Rb(5,"div",37,38),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropMesoregion(t)}),p.Bc(7,De,2,4,"div",27),p.Qb(),p.Qb(),p.Rb(8,"div",39),p.Rb(9,"h2"),p.Dc(10),p.dc(11,"translate"),p.Qb(),p.Rb(12,"div",25,40),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropMesoregion(t)}),p.Bc(14,ye,2,4,"div",27),p.Qb(),p.Qb(),p.Rb(15,"div",28),p.Rb(16,"h2"),p.Dc(17),p.dc(18,"translate"),p.Qb(),p.Rb(19,"div",29,41),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropMesoregion(t)}),p.Bc(21,Le,2,5,"div",27),p.Qb(),p.Qb(),p.Qb(),p.Mb(22,"div",42)}if(2&e){const e=p.pc(6),t=p.pc(13),i=p.pc(20),r=p.cc();p.Ab(3),p.Ec(p.ec(4,12,"details-state.drag-drop.mesoregion")),p.Ab(2),p.ic("cdkDropListData",r.dragSource3Mesoregions)("cdkDropListConnectedTo",p.lc(18,ve,i)),p.Ab(2),p.ic("ngForOf",r.dragSource3Mesoregions),p.Ab(3),p.Ec(p.ec(11,14,"details-state.drag-drop.characteristics")),p.Ab(2),p.ic("cdkDropListData",r.dragSource2Characteristics)("cdkDropListConnectedTo",p.lc(20,ve,i)),p.Ab(2),p.ic("ngForOf",r.dragSource2Characteristics),p.Ab(3),p.Ec(p.ec(18,16,"details-state.drag-drop.used-data")),p.Ab(2),p.ic("cdkDropListData",r.dragTarget3Criteria)("cdkDropListConnectedTo",p.mc(22,Re,e,t)),p.Ab(2),p.ic("ngForOf",r.dragTarget3Criteria)}}function Ce(e,t){if(1&e&&(p.Rb(0,"div",34),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.lc(2,fe,"microregion"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}function Qe(e,t){if(1&e&&(p.Rb(0,"div",34),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.lc(2,be,"characteristics"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}function Ae(e,t){if(1&e&&(p.Rb(0,"div",34),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.mc(2,xe,"microregion"===e.type,"characteristics"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}function we(e,t){if(1&e){const e=p.Sb();p.Rb(0,"div",23),p.Rb(1,"div",36),p.Rb(2,"h2"),p.Dc(3),p.dc(4,"translate"),p.Qb(),p.Rb(5,"div",43,44),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropMicroregion(t)}),p.Bc(7,Ce,2,4,"div",27),p.Qb(),p.Qb(),p.Rb(8,"div",39),p.Rb(9,"h2"),p.Dc(10),p.dc(11,"translate"),p.Qb(),p.Rb(12,"div",25,45),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropMicroregion(t)}),p.Bc(14,Qe,2,4,"div",27),p.Qb(),p.Qb(),p.Rb(15,"div",28),p.Rb(16,"h2"),p.Dc(17),p.dc(18,"translate"),p.Qb(),p.Rb(19,"div",29,46),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropMicroregion(t)}),p.Bc(21,Ae,2,5,"div",27),p.Qb(),p.Qb(),p.Qb(),p.Mb(22,"div",47)}if(2&e){const e=p.pc(6),t=p.pc(13),i=p.pc(20),r=p.cc();p.Ab(3),p.Ec(p.ec(4,12,"details-state.drag-drop.microregion")),p.Ab(2),p.ic("cdkDropListData",r.dragSource2Microregions)("cdkDropListConnectedTo",p.lc(18,ve,i)),p.Ab(2),p.ic("ngForOf",r.dragSource2Microregions),p.Ab(3),p.Ec(p.ec(11,14,"details-state.drag-drop.characteristics")),p.Ab(2),p.ic("cdkDropListData",r.dragSource2Characteristics)("cdkDropListConnectedTo",p.lc(20,ve,i)),p.Ab(2),p.ic("ngForOf",r.dragSource2Characteristics),p.Ab(3),p.Ec(p.ec(18,16,"details-state.drag-drop.used-data")),p.Ab(2),p.ic("cdkDropListData",r.dragTarget2Criteria)("cdkDropListConnectedTo",p.mc(22,Re,e,t)),p.Ab(2),p.ic("ngForOf",r.dragTarget2Criteria)}}function Te(e,t){if(1&e&&(p.Rb(0,"div",34),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.lc(2,fe,"municipy"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}function Me(e,t){if(1&e&&(p.Rb(0,"div",34),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.lc(2,be,"characteristics"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}function Ee(e,t){if(1&e&&(p.Rb(0,"div",34),p.Dc(1),p.Qb()),2&e){const e=t.$implicit;p.ic("ngClass",p.mc(2,xe,"municipy"===e.type,"characteristics"===e.type)),p.Ab(1),p.Fc(" ",e.label," ")}}function Oe(e,t){if(1&e){const e=p.Sb();p.Rb(0,"div",23),p.Rb(1,"div",36),p.Rb(2,"h2"),p.Dc(3),p.dc(4,"translate"),p.Qb(),p.Rb(5,"div",48,49),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropMunicipy(t)}),p.Bc(7,Te,2,4,"div",27),p.Qb(),p.Qb(),p.Rb(8,"div",39),p.Rb(9,"h2"),p.Dc(10),p.dc(11,"translate"),p.Qb(),p.Rb(12,"div",25,50),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropMunicipy(t)}),p.Bc(14,Me,2,4,"div",27),p.Qb(),p.Qb(),p.Rb(15,"div",28),p.Rb(16,"h2"),p.Dc(17),p.dc(18,"translate"),p.Qb(),p.Rb(19,"div",29,51),p.Yb("cdkDropListDropped",function(t){return p.sc(e),p.cc().dropMunicipy(t)}),p.Bc(21,Ee,2,5,"div",27),p.Qb(),p.Qb(),p.Qb(),p.Mb(22,"div",52)}if(2&e){const e=p.pc(6),t=p.pc(13),i=p.pc(20),r=p.cc();p.Ab(3),p.Ec(p.ec(4,12,"details-state.drag-drop.municipalities")),p.Ab(2),p.ic("cdkDropListData",r.dragSource1Municipalities)("cdkDropListConnectedTo",p.lc(18,ve,i)),p.Ab(2),p.ic("ngForOf",r.dragSource1Municipalities),p.Ab(3),p.Ec(p.ec(11,14,"details-state.drag-drop.characteristics")),p.Ab(2),p.ic("cdkDropListData",r.dragSource1Characteristics)("cdkDropListConnectedTo",p.lc(20,ve,i)),p.Ab(2),p.ic("ngForOf",r.dragSource1Characteristics),p.Ab(3),p.Ec(p.ec(18,16,"details-state.drag-drop.used-data")),p.Ab(2),p.ic("cdkDropListData",r.dragTarget1Criteria)("cdkDropListConnectedTo",p.mc(22,Re,e,t)),p.Ab(2),p.ic("ngForOf",r.dragTarget1Criteria)}}function Se(e,t){if(1&e&&(p.Mb(0,"div",55),p.Mb(1,"div",55),p.Mb(2,"div",55)),2&e){const e=p.cc().index;p.jc("id","element-chart-1-",e,""),p.Ab(1),p.jc("id","element-chart-2-",e,""),p.Ab(1),p.jc("id","element-chart-3-",e,"")}}function Fe(e,t){if(1&e){const e=p.Sb();p.Rb(0,"mat-expansion-panel",53),p.Yb("closed",function(){return p.sc(e),p.cc().featuredLabel=""})("opened",function(){p.sc(e);const i=t.index,r=p.pc(2);return p.cc().setupTable(i,r)}),p.Rb(1,"mat-expansion-panel-header",8,54),p.Dc(3),p.Qb(),p.Bc(4,Se,3,3,"ng-template",10),p.Qb()}if(2&e){const e=t.$implicit;p.Cb("numeric-value-descriptor descriptor-",t.index,""),p.Ab(3),p.Fc(" ",e," ")}}let Ie=(()=>{class e{constructor(e){this.cdr=e,this.onReset=new p.o,this.parsedDataset=[],this.dragSourceGeneralCharacteristics=[],this.dragTargetGeneralCharacteristics=[],this.dragSource1Municipalities=[],this.dragSource1Characteristics=[],this.dragTarget1Criteria=[],this.dragSource2Microregions=[],this.dragSource2Characteristics=[],this.dragTarget2Criteria=[],this.dragSource3Mesoregions=[],this.dragSource3Characteristics=[],this.dragTarget3Criteria=[]}ngOnInit(){var e,t,i,r,a,n,c;const o=null===(e=this.data)||void 0===e?void 0:e.numericLabels.map((e,t)=>{const i=new v;return i.label=e,i.type="characteristics",i.value={meta_id:t,value:e},i});o&&(this.dragSource1Characteristics.push(...o),this.dragSource2Characteristics.push(...o),this.dragSource3Characteristics.push(...o),this.dragSourceGeneralCharacteristics.push(...o));const s=null===(i=null===(t=this.data)||void 0===t?void 0:t.municipalities)||void 0===i?void 0:i.map(e=>{const t=new v;return t.label=e.name,t.type="municipy",t.value=e,t});s&&this.dragSource1Municipalities.push(...s);const d=null===(a=null===(r=this.data)||void 0===r?void 0:r.microregions)||void 0===a?void 0:a.map(e=>{const t=new v;return t.label=e.name,t.type="microregion",t.value=e,t});d&&this.dragSource2Microregions.push(...d);const l=null===(c=null===(n=this.data)||void 0===n?void 0:n.microregions)||void 0===c?void 0:c.map(e=>{const t=new v;return t.label=e.name,t.type="mesoregion",t.value=e,t});l&&this.dragSource3Mesoregions.push(...l)}reset(){this.onReset.next()}dropGeneral(e){e.previousContainer===e.container?Object(m.e)(e.container.data,e.previousIndex,e.currentIndex):Object(m.f)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.generalScatterPlot()}dropMunicipy(e){const t=["drag-municipalities","drag-characteristics"],i=e.container.id;if(t.indexOf(i)>=0){if(t.indexOf(e.previousContainer.id)>=0)return;const r=this.dragTarget1Criteria[e.previousIndex];if("characteristics"===r.type&&"drag-municipalities"===i||"municipy"===r.type&&"drag-characteristics"===i)return}e.previousContainer===e.container?Object(m.e)(e.container.data,e.previousIndex,e.currentIndex):Object(m.f)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.generateMunicipyPlot(),this.cdr.detectChanges()}dropMesoregion(e){const t=["drag-mesoregion","drag-characteristics"],i=e.container.id;if(t.indexOf(i)>=0){if(t.indexOf(e.previousContainer.id)>=0)return;const r=this.dragTarget1Criteria[e.previousIndex];if("characteristics"===r.type&&"drag-mesoregion"===i||"mesoregion"===r.type&&"drag-characteristics"===i)return}e.previousContainer===e.container?Object(m.e)(e.container.data,e.previousIndex,e.currentIndex):Object(m.f)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.generateMesoregionPlot(),this.cdr.detectChanges()}dropMicroregion(e){const t=["drag-microregion","drag-characteristics"],i=e.container.id;if(t.indexOf(i)>=0){if(t.indexOf(e.previousContainer.id)>=0)return;const r=this.dragTarget2Criteria[e.previousIndex];if("characteristics"===r.type&&"drag-microregion"===i||"microregion"===r.type&&"drag-characteristics"===i)return}e.previousContainer===e.container?Object(m.e)(e.container.data,e.previousIndex,e.currentIndex):Object(m.f)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.generateMesoregionPlot(),this.cdr.detectChanges()}generateMesoregionPlot(){const e=document.querySelector("#chart-mesoregion-1-1"),t=this.dragTarget3Criteria.filter(e=>"mesoregion"===e.type).map(({value:e})=>e),i=this.dragTarget3Criteria.filter(e=>"characteristics"===e.type).map(({value:e})=>e.meta_id);t.length&&i.length?(e&&(e.innerHTML=""),e&&i.map(i=>{var r;const a=null===(r=this.data)||void 0===r?void 0:r.numericLabels.find((e,t)=>t===i),n=t.map(e=>({y:e.numericEvolution.find(e=>e.meta_id===i).value,type:"box",name:e.name})),c={title:a},o=document.createElement("div");o.id="chart-meta-"+i,e.appendChild(o),h.newPlot(o,n,c,{responsive:!0})})):e.innerHTML=""}generateMicroregionPlot(){const e=document.querySelector("#chart-microregion-1-1"),t=this.dragTarget2Criteria.filter(e=>"microregion"===e.type).map(({value:e})=>e),i=this.dragTarget2Criteria.filter(e=>"characteristics"===e.type).map(({value:e})=>e.meta_id);t.length&&i.length?(e&&(e.innerHTML=""),e&&i.map(i=>{var r;const a=null===(r=this.data)||void 0===r?void 0:r.numericLabels.find((e,t)=>t===i),n=t.map(e=>({y:e.numericEvolution.find(e=>e.meta_id===i).value,type:"box",name:e.name})),c={title:a},o=document.createElement("div");o.id="chart-meta-"+i,e.appendChild(o),h.newPlot(o,n,c,{responsive:!0})})):e.innerHTML=""}generateMunicipyPlot(){const e=document.querySelector("#chart-municipy-1-1"),t=this.dragTarget1Criteria.filter(e=>"municipy"===e.type).map(({value:e})=>e),i=this.dragTarget1Criteria.filter(e=>"characteristics"===e.type).map(({value:e})=>e.meta_id);t.length&&i.length?e&&(e.innerHTML="",i.map(i=>{var r;const a=null===(r=this.data)||void 0===r?void 0:r.numericLabels.find((e,t)=>t===i),n=t.map(e=>({y:e.numericEvolution.find(e=>e.meta_id===i).value,type:"box",name:e.name})),c={title:a},o=document.createElement("div");o.id="chart-meta-"+i,e.appendChild(o),h.newPlot(o,n,c,{responsive:!0})})):e.innerHTML=""}generalPlot(e){this.setLabelTitle(e),setTimeout(()=>{var e;const t=document.querySelector("#general-chart-1"),i=null===(e=this.data)||void 0===e?void 0:e.item.numericEvolution.map((e,t)=>{var i,r;return{x:null===(i=this.data)||void 0===i?void 0:i.period,y:e.value,mode:"lines+markers",name:null===(r=this.data)||void 0===r?void 0:r.numericLabels[t]}});h.newPlot(t,i,{title:"Incid\xeancias",xaxis:{type:"category"},legend:{orientation:"h",y:-.3}},{responsive:!0})},100)}generalScatterPlot(){var e;const t=document.querySelector("#general-chart-2a"),i=document.querySelector("#general-chart-2b");t.innerHTML="",i.innerHTML="";const r=this.dragTargetGeneralCharacteristics.map(({value:e})=>e.meta_id);if(t){const e=this.dragTargetGeneralCharacteristics.map(e=>({label:e.label,values:this.data.item.numericEvolution[e.value.meta_id].value})).map(e=>{var t;return{type:"scatterpolar",r:e.values,theta:null===(t=this.data)||void 0===t?void 0:t.period,fill:"toself",name:e.label}});h.newPlot(t,e,{title:"Visualiza\xe7\xe3o em Radar",polar:{radialaxis:!0}})}if(i){const t=()=>({showline:!1,zeroline:!1,gridcolor:"#FFF",ticklen:4}),a=Object.assign({title:"Matriz Comparativa das Caracter\xedsticas",hovermode:"closest",dragmode:"select",plot_bgcolor:"rgba(240, 240, 240, .95)"},r.map((e,i)=>({[0===i?"xaxis":"xaxis"+(i+1)]:t(),[0===i?"yaxis":"yaxis"+(i+1)]:t()})));r.length>1&&(a.height=260*r.length,a.width=i.parentElement.getBoundingClientRect().width-60,a.autosize=!1);const n=null===(e=this.data)||void 0===e?void 0:e.period.map((e,t)=>({type:"splom",name:e,marker:{size:7},dimensions:r.map(e=>{var i,r,a,n;return{label:null===(r=null===(i=this.data)||void 0===i?void 0:i.numericLabels)||void 0===r?void 0:r.find((t,i)=>i===e),values:[l.a.formatValues(null===(n=null===(a=this.data)||void 0===a?void 0:a.item)||void 0===n?void 0:n.numericEvolution[e].value[t])]}})})),c=document.createElement("div");c.id="chart-splom",i.appendChild(c),h.newPlot(c,n,a,{responsive:!0})}}setupTable(e,t){var i;if(this.setLabelTitle(t),this.parsedDataset[e])return;const r=null===(i=this.data)||void 0===i?void 0:i.item.numericEvolution[e].value,a=r.map(e=>({item:e}));this.parsedDataset[e]={dataset:a,itemNumericEvolution:r},setTimeout(()=>{var t;const i=document.querySelector("#element-chart-1-"+e);if(i){const e=[{x:null===(t=this.data)||void 0===t?void 0:t.period,y:r,name:"Mesorregi\xe3o",type:"lines+markers"}];h.newPlot(i,e,{title:"Incid\xeancias",barmode:"stack",legend:{orientation:"h"}},{responsive:!0})}},100)}setLabelTitle(e){e&&setTimeout(()=>this.featuredLabel=e._element.nativeElement.innerText,0)}}return e.\u0275fac=function(t){return new(t||e)(p.Lb(p.h))},e.\u0275cmp=p.Fb({type:e,selectors:[["state-details"]],inputs:{data:"data"},outputs:{onReset:"onReset"},decls:57,vars:36,consts:[[1,"region-wrapper"],[1,"toolbar"],[1,"left"],["class","region-characteristic-view-chip",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"region-wrapper-content"],[1,"accordion"],[1,"featured-expansion-item",3,"closed","opened"],["collapsedHeight","48px","expandedHeight","48px"],["mainTitle",""],["matExpansionPanelContent",""],[1,"featured-expansion-item",3,"opened","closed"],[1,"box","box-info",2,"margin","16px 0"],[1,"box-title"],[1,"box-content"],["labelMesoregion",""],["labelMicroregion",""],["municipyLabel",""],[3,"class","closed","opened",4,"ngFor","ngForOf"],[1,"region-characteristic-view-chip"],["id","general-chart-1"],[1,"interactive-charts"],[1,"box","box-info",2,"margin-bottom","16px"],[1,"drag-outlet"],[1,"drag-container","drag-container-3"],["id","drag-characteristics","cdkDropList","",1,"drag-list","autoheight",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["sourceGenChar","cdkDropList"],["class","drag-item","cdkDrag","",3,"ngClass",4,"ngFor","ngForOf"],[1,"drag-container","drag-target","drag-container-3"],["id","drag-criteria","cdkDropList","",1,"drag-list","autoheight",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["doneGenList","cdkDropList"],["class","drag-item type-2","cdkDrag","",4,"ngFor","ngForOf"],["id","general-chart-2a"],["id","general-chart-2b"],["cdkDrag","",1,"drag-item",3,"ngClass"],["cdkDrag","",1,"drag-item","type-2"],[1,"drag-container","drag-container-1"],["id","drag-mesoregion","cdkDropList","",1,"drag-list","autoheight",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["source3a","cdkDropList"],[1,"drag-container","drag-container-2"],["source3b","cdkDropList"],["target3","cdkDropList"],["id","chart-mesoregion-1-1"],["id","drag-microregion","cdkDropList","",1,"drag-list","autoheight",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["source2a","cdkDropList"],["source2b","cdkDropList"],["target2","cdkDropList"],["id","chart-microregion-1-1"],["id","drag-municipalities","cdkDropList","",1,"drag-list","autoheight",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["sourceMunicipalities","cdkDropList"],["sourceCharacteristics","cdkDropList"],["doneList","cdkDropList"],["id","chart-municipy-1-1"],[3,"closed","opened"],["itemLabel",""],[3,"id"]],template:function(e,t){if(1&e){const e=p.Sb();p.Rb(0,"div",0),p.Rb(1,"div",1),p.Rb(2,"div",2),p.Dc(3),p.dc(4,"translate"),p.Bc(5,ue,2,1,"div",3),p.Qb(),p.Rb(6,"button",4),p.Yb("click",function(){return t.reset()}),p.Rb(7,"mat-icon"),p.Dc(8,"close"),p.Qb(),p.Qb(),p.Qb(),p.Rb(9,"div",5),p.Rb(10,"mat-accordion",6),p.Rb(11,"mat-expansion-panel",7),p.Yb("closed",function(){return t.featuredLabel=""})("opened",function(){p.sc(e);const i=p.pc(13);return t.generalPlot(i)}),p.Rb(12,"mat-expansion-panel-header",8,9),p.Dc(14),p.dc(15,"translate"),p.Qb(),p.Bc(16,he,26,22,"ng-template",10),p.Qb(),p.Rb(17,"mat-expansion-panel",11),p.Yb("opened",function(){p.sc(e);const i=p.pc(26);return t.setLabelTitle(i)})("closed",function(){return t.featuredLabel=""}),p.Rb(18,"div",12),p.Rb(19,"div",13),p.Dc(20),p.dc(21,"translate"),p.Qb(),p.Rb(22,"div",14),p.Dc(23),p.dc(24,"translate"),p.Qb(),p.Qb(),p.Rb(25,"mat-expansion-panel-header",8,15),p.Dc(27),p.dc(28,"translate"),p.Qb(),p.Bc(29,ke,23,25,"ng-template",10),p.Qb(),p.Rb(30,"mat-expansion-panel",11),p.Yb("opened",function(){p.sc(e);const i=p.pc(39);return t.setLabelTitle(i)})("closed",function(){return t.featuredLabel=""}),p.Rb(31,"div",12),p.Rb(32,"div",13),p.Dc(33),p.dc(34,"translate"),p.Qb(),p.Rb(35,"div",14),p.Dc(36),p.dc(37,"translate"),p.Qb(),p.Qb(),p.Rb(38,"mat-expansion-panel-header",8,16),p.Dc(40),p.dc(41,"translate"),p.Qb(),p.Bc(42,we,23,25,"ng-template",10),p.Qb(),p.Rb(43,"mat-expansion-panel",11),p.Yb("opened",function(){p.sc(e);const i=p.pc(52);return t.setLabelTitle(i)})("closed",function(){return t.featuredLabel=""}),p.Rb(44,"div",12),p.Rb(45,"div",13),p.Dc(46),p.dc(47,"translate"),p.Qb(),p.Rb(48,"div",14),p.Dc(49),p.dc(50,"translate"),p.Qb(),p.Qb(),p.Rb(51,"mat-expansion-panel-header",8,17),p.Dc(53),p.dc(54,"translate"),p.Qb(),p.Bc(55,Oe,23,25,"ng-template",10),p.Qb(),p.Bc(56,Fe,5,4,"mat-expansion-panel",18),p.Qb(),p.Qb(),p.Qb()}2&e&&(p.Ab(3),p.Gc(" ",p.ec(4,14,"model-constants."+(null==t.data?null:t.data.type)),": ",null==t.data||null==t.data.item?null:t.data.item.name," "),p.Ab(2),p.ic("ngIf",t.featuredLabel),p.Ab(9),p.Fc(" ",p.ec(15,16,"details-state.all")," "),p.Ab(6),p.Ec(p.ec(21,18,"details-state.drag-drop.interactive-mesoregion.title")),p.Ab(3),p.Ec(p.ec(24,20,"details-state.drag-drop.interactive-mesoregion.content")),p.Ab(4),p.Fc(" ",p.ec(28,22,"details-state.mesoregion")," "),p.Ab(6),p.Ec(p.ec(34,24,"details-state.drag-drop.interactive-microregion.title")),p.Ab(3),p.Ec(p.ec(37,26,"details-state.drag-drop.interactive-microregion.content")),p.Ab(4),p.Fc(" ",p.ec(41,28,"details-state.microregion")," "),p.Ab(6),p.Ec(p.ec(47,30,"details-state.drag-drop.interactive-municipalities.title")),p.Ab(3),p.Ec(p.ec(50,32,"details-state.drag-drop.interactive-municipalities.content")),p.Ab(4),p.Fc(" ",p.ec(54,34,"details-state.municipalities")," "),p.Ab(3),p.ic("ngForOf",null==t.data?null:t.data.numericLabels))},directives:[c.l,f.b,D.a,y.a,y.c,y.e,y.d,c.k,m.c,m.a,c.j],pipes:[r.c],styles:[""]}),e})();var Pe=i("2NtR");function Ge(e,t){1&e&&p.Mb(0,"select-project-warning")}function je(e,t){if(1&e){const e=p.Sb();p.Rb(0,"municipy-details",5),p.Yb("onReset",function(){return p.sc(e),p.cc(2).cleanView()}),p.Qb()}if(2&e){const e=p.cc(2);p.ic("data",e.data)}}function Be(e,t){if(1&e){const e=p.Sb();p.Rb(0,"microregion-details",5),p.Yb("onReset",function(){return p.sc(e),p.cc(2).cleanView()}),p.Qb()}if(2&e){const e=p.cc(2);p.ic("data",e.data)}}function Ye(e,t){if(1&e){const e=p.Sb();p.Rb(0,"mesoregion-details",5),p.Yb("onReset",function(){return p.sc(e),p.cc(2).cleanView()}),p.Qb()}if(2&e){const e=p.cc(2);p.ic("data",e.data)}}function _e(e,t){if(1&e){const e=p.Sb();p.Rb(0,"state-details",5),p.Yb("onReset",function(){return p.sc(e),p.cc(2).cleanView()}),p.Qb()}if(2&e){const e=p.cc(2);p.ic("data",e.data)}}function He(e,t){if(1&e){const e=p.Sb();p.Rb(0,"div",6),p.Rb(1,"div",7),p.Dc(2),p.dc(3,"translate"),p.Qb(),p.Rb(4,"div",8),p.Rb(5,"region-selector",9),p.Yb("onSelect",function(t){return p.sc(e),p.cc(2).onRegionSelect(t)}),p.Qb(),p.Qb(),p.Qb()}2&e&&(p.Ab(2),p.Fc(" ",p.ec(3,1,"details-general.title")," "))}function qe(e,t){if(1&e&&(p.Rb(0,"div",2),p.Bc(1,je,1,1,"municipy-details",3),p.Bc(2,Be,1,1,"microregion-details",3),p.Bc(3,Ye,1,1,"mesoregion-details",3),p.Bc(4,_e,1,1,"state-details",3),p.Bc(5,He,6,3,"div",4),p.Qb()),2&e){const e=p.cc();p.Ab(1),p.ic("ngIf",null==e.data?null:e.data.isAMunicipyDataset),p.Ab(1),p.ic("ngIf",null==e.data?null:e.data.isAMicroregionDataset),p.Ab(1),p.ic("ngIf",null==e.data?null:e.data.isAMesoregionDataset),p.Ab(1),p.ic("ngIf",null==e.data?null:e.data.isStateDataset),p.Ab(1),p.ic("ngIf",!e.data)}}let $e=(()=>{class e{constructor(e,t){this.engineService=e,this.pubsub=t,this.subscriptions=[]}ngOnInit(){this.bootView(),this.subscriptions.push(this.pubsub.getAsBehaviorSubject(d.a.GLOBAL_PROJECT_CHANGE).subscribe(e=>{e&&(this.initiated=!0)}))}onRegionSelect(e){this.bootView(e)}cleanView(){this.data=null,localStorage.removeItem("details-dataset")}bootView(e=null){const t=e||JSON.parse(localStorage.getItem("details-dataset"));t&&this.subscriptions.push(this.pubsub.getAsBehaviorSubject(d.a.GLOBAL_STATE_CHANGE).pipe(Object(o.a)(e=>!!e),Object(s.a)(e=>this.engineService.getEngineEvolution(e))).subscribe(e=>{this.evolutionData=e,t.slug?this.prepareDataset(t):this.handlePreparedDataset(t)}))}prepareDataset(e){var t,i;const r={numericLabels:this.evolutionData.dataFor,period:this.evolutionData.periods};if("uf"===e.slug){const t=this.evolutionData.uf[e.id],i=Object.values(this.evolutionData.mesoregion).filter(({uf_id:e})=>e===t.id),a=i.map(({id:e})=>e),n=Object.values(this.evolutionData.microregion).filter(({mesoregion_id:e})=>a.indexOf(e)>-1),c=n.map(({id:e})=>e),o=Object.values(this.evolutionData.municipalities).filter(({microregion_id:e})=>c.indexOf(e)>-1);r.item=t,r.mesoregions=i,r.microregions=n,r.municipalities=o,r.type="state"}else if("mesoregion"===e.slug){const i=this.evolutionData.mesoregion[e.id],a=Object.values(this.evolutionData.microregion).filter(({mesoregion_id:e})=>e===i.id),n=a.map(({id:e})=>e),c=Object.values(this.evolutionData.municipalities).filter(({microregion_id:e})=>n.indexOf(e)>-1),o=Object.values(this.evolutionData.uf)[0].id;r.item=i,r.quantity=Object.values(null===(t=this.evolutionData)||void 0===t?void 0:t.mesoregion).length,r.uf=this.evolutionData.uf[o],r.microregions=a,r.municipalities=c,r.type="mesoregion"}else if("microregion"===e.slug){const t=this.evolutionData.microregion[e.id],a=this.evolutionData.mesoregion[t.mesoregion_id],n=Object.values(this.evolutionData.municipalities).filter(({microregion_id:e})=>e===t.id);r.item=t,r.quantity=Object.values(null===(i=this.evolutionData)||void 0===i?void 0:i.microregion).length,r.uf=this.evolutionData.uf[a.uf_id],r.mesoregion=a,r.municipalities=n,r.type="microregion"}else if("municipalities"===e.slug){const t=this.evolutionData.municipalities[e.id],i=this.evolutionData.microregion[t.microregion_id],a=this.evolutionData.mesoregion[i.mesoregion_id];r.item=t,r.quantity=Object.values(this.evolutionData.municipalities).length,r.uf=this.evolutionData.uf[a.uf_id],r.mesoregion=a,r.microregion=i,r.type="municipy"}this.handlePreparedDataset(r)}handlePreparedDataset(e){switch(null==e?void 0:e.type){case"municipy":this.parseMunicipy(e);break;case"microregion":this.parseMicroregion(e);break;case"mesoregion":this.parseMesoregion(e);break;case"state":this.parseState(e)}}parseMunicipy(e){var t,i;e.isAMunicipyDataset=!0;for(let r=0;r<(null===(t=null==e?void 0:e.item)||void 0===t?void 0:t.numericEvolution.length);r++){const t=null===(i=null==e?void 0:e.item)||void 0===i?void 0:i.numericEvolution[r];t.value.forEach((i,a)=>{0===a&&(t.percentageOverMicroregion=[],t.percentageOverMesoregion=[],t.percentageOverUf=[]),t.percentageOverMicroregion.push(l.a.percentage(e.microregion.numericEvolution[r].value[a],i)),t.percentageOverMesoregion.push(l.a.percentage(e.mesoregion.numericEvolution[r].value[a],i)),t.percentageOverUf.push(l.a.percentage(e.uf.numericEvolution[r].value[a],i))})}this.data=e}parseMicroregion(e){var t,i;e.isAMicroregionDataset=!0;for(let r=0;r<(null===(t=null==e?void 0:e.item)||void 0===t?void 0:t.numericEvolution.length);r++){const t=null===(i=null==e?void 0:e.item)||void 0===i?void 0:i.numericEvolution[r];t.value.forEach((i,a)=>{0===a&&(t.percentageOverMesoregion=[],t.percentageOverUf=[]),t.percentageOverMesoregion.push(l.a.percentage(e.mesoregion.numericEvolution[r].value[a],i)),t.percentageOverUf.push(l.a.percentage(e.uf.numericEvolution[r].value[a],i)),e.municipalities.forEach(e=>{const t=e.numericEvolution[r];t.percentageOverMicroregion||(t.percentageOverMicroregion=[]),t.percentageOverMicroregion.push(l.a.percentage(i,t.value[a]))})})}this.data=e}parseMesoregion(e){var t,i;e.isAMesoregionDataset=!0;for(let r=0;r<(null===(t=null==e?void 0:e.item)||void 0===t?void 0:t.numericEvolution.length);r++){const t=null===(i=null==e?void 0:e.item)||void 0===i?void 0:i.numericEvolution[r];t.value.forEach((i,a)=>{0===a&&(t.percentageOverUf=[]),t.percentageOverUf.push(l.a.percentage(e.uf.numericEvolution[r].value[a],i)),e.microregions.forEach(e=>{const t=e.numericEvolution[r];t.percentageOverMesoregion||(t.percentageOverMesoregion=[]),t.percentageOverMesoregion.push(l.a.percentage(i,t.value[a]))}),e.municipalities.forEach(e=>{const t=e.numericEvolution[r];t.percentageOverMesoregion||(t.percentageOverMesoregion=[]),t.percentageOverMesoregion.push(l.a.percentage(i,t.value[a]))})})}this.data=e}parseState(e){e.isStateDataset=!0,this.data=e}}return e.\u0275fac=function(t){return new(t||e)(p.Lb(u.a),p.Lb(b.a))},e.\u0275cmp=p.Fb({type:e,selectors:[["app-region-details"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","wrapper",4,"ngIf"],[1,"wrapper"],[3,"data","onReset",4,"ngIf"],["class","region-wrapper",4,"ngIf"],[3,"data","onReset"],[1,"region-wrapper"],[1,"toolbar"],[1,"region-wrapper-content"],[3,"onSelect"]],template:function(e,t){1&e&&(p.Bc(0,Ge,1,0,"select-project-warning",0),p.Bc(1,qe,6,5,"div",1)),2&e&&(p.ic("ngIf",!t.initiated),p.Ab(1),p.ic("ngIf",t.initiated))},directives:[c.l,g.a,T,z,pe,Ie,Pe.a],pipes:[r.c],styles:["[_ngcontent-%COMP%]:root{--pallete-primary:#000;--pallete-accent:#000;--sidenav-width:200px}  .region-wrapper .drag-outlet,   .region-wrapper .toolbar,   .region-wrapper .toolbar .left{display:flex}  .region-wrapper .toolbar .left{align-items:center;justify-content:flex-start}  .region-wrapper .drag-outlet{align-items:flex-start;justify-content:center}  .region-wrapper .toolbar{align-items:center;justify-content:space-between}  .region-wrapper-content{padding:16px;overflow-y:auto;height:calc(var(--innerHeight) - 128px)}  .region-wrapper .toolbar .left{width:calc(100% - 40px)}  .region-wrapper .region-characteristic-view-chip{background:var(--pallete-accent);padding:6px 12px;border-radius:30px;margin-left:8px;color:#fff;font-size:12px}  .region-wrapper .featured-expansion-item:not(:first-of-type){border-top:1px solid #f5f5f5}  .region-wrapper .featured-expansion-item .mat-expansion-panel-header{font-weight:500}  .region-wrapper .featured-expansion-item .mat-expansion-panel-header,   .region-wrapper .featured-expansion-item .mat-expansion-panel-header:active,   .region-wrapper .featured-expansion-item .mat-expansion-panel-header:hover{background:var(--pallete-primary)!important}  .region-wrapper .featured-expansion-item .mat-expansion-panel-header,   .region-wrapper .featured-expansion-item .mat-expansion-panel-header .mat-expansion-indicator:after{color:#fff}  .region-wrapper .featured-item-outlet{margin-bottom:24px}  .region-wrapper .numeric-value-descriptor .featured-item-outlet{flex-wrap:wrap}  .region-wrapper .numeric-value-descriptor .featured-item{width:250px;min-width:250px;margin-bottom:16px}  .region-wrapper .drag-outlet{flex-wrap:wrap}  .region-wrapper .drag-container h2{font-size:16px;margin-bottom:0}  .region-wrapper .drag-container .drag-list{height:200px;width:100%;overflow-y:auto}  .region-wrapper .drag-container .drag-list.autoheight{height:-webkit-fit-content!important;height:-moz-fit-content!important;height:fit-content!important;min-height:80px!important;max-height:200px}  .region-wrapper .drag-container .drag-list::-webkit-scrollbar{width:5px}  .region-wrapper .drag-container .drag-list::-webkit-scrollbar-track{box-shadow:inset 0 0 5px grey}  .region-wrapper .drag-container .drag-list::-webkit-scrollbar-thumb{background:#333}  .region-wrapper .drag-container .drag-item{padding:4px 12px;border-radius:30px;background:#757575;display:inline-block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:4px;cursor:pointer;border:2px solid transparent}  .region-wrapper .drag-container .drag-item.type-1{background:var(--pallete-primary);color:#fff}  .region-wrapper .drag-container .drag-item.type-2{background:var(--pallete-accent);color:#fff}  .region-wrapper .drag-target .drag-list{height:200px;width:100%;background-color:#f5f5f5;border:1px dashed var(--pallete-primary)}  .region-wrapper .drag-container-1,   .region-wrapper .drag-container-2{width:50%}  .region-wrapper .drag-container-3{width:100%}  .is-phone .region-wrapper .featured-item{width:50%}  .is-phone .region-wrapper .drag-container{width:100%}  .is-phone .region-wrapper .drag-list{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;min-height:100px;max-height:200px}"]}),e})(),ze=(()=>{class e{}return e.\u0275mod=p.Jb({type:e}),e.\u0275inj=p.Ib({factory:function(t){return new(t||e)},imports:[[c.c,n.e.forChild([{path:"",component:$e}])],n.e]}),e})(),Ve=(()=>{class e{}return e.\u0275mod=p.Jb({type:e}),e.\u0275inj=p.Ib({factory:function(t){return new(t||e)},imports:[[c.c,r.b,y.b,m.d,f.c,D.b]]}),e})(),Ne=(()=>{class e{}return e.\u0275mod=p.Jb({type:e}),e.\u0275inj=p.Ib({factory:function(t){return new(t||e)},imports:[[c.c,r.b,m.d,D.b,f.c,y.b]]}),e})(),Ue=(()=>{class e{}return e.\u0275mod=p.Jb({type:e}),e.\u0275inj=p.Ib({factory:function(t){return new(t||e)},imports:[[c.c,r.b,y.b,m.d,f.c,D.b]]}),e})(),Je=(()=>{class e{}return e.\u0275mod=p.Jb({type:e}),e.\u0275inj=p.Ib({factory:function(t){return new(t||e)},imports:[[c.c,r.b,D.b,y.b,m.d,f.c]]}),e})();var Xe=i("mVQt");let Ze=(()=>{class e{}return e.\u0275mod=p.Jb({type:e}),e.\u0275inj=p.Ib({factory:function(t){return new(t||e)},imports:[[c.c,Ue,Ne,Ve,ze,Je,a.a,Xe.a,r.b]]}),e})()}}]);